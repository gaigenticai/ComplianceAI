# ComplianceAI: Simplified 3-Agent Architecture - Environment Variables
# Copy this file to .env and configure with your values

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
RUST_LOG=info

# Security
JWT_SECRET=your-secret-key-change-in-production-minimum-32-characters
REQUIRE_AUTH=false

# =============================================================================
# UI CONFIGURATION (Professional Design System)
# =============================================================================

# Brand Colors (Primary Palette)
UI_PRIMARY_50=#f0f4ff
UI_PRIMARY_100=#e0e7ff
UI_PRIMARY_200=#c7d2fe
UI_PRIMARY_300=#a5b4fc
UI_PRIMARY_400=#818cf8
UI_PRIMARY_500=#6366f1
UI_PRIMARY_600=#4f46e5
UI_PRIMARY_700=#4338ca
UI_PRIMARY_800=#3730a3
UI_PRIMARY_900=#312e81

# Typography
UI_FONT_FAMILY=Inter
UI_FONT_MONO=JetBrains Mono

# Layout Configuration
UI_CONTAINER_WIDTH=1280px
UI_HEADER_HEIGHT=4rem
UI_NAV_HEIGHT=3.5rem

# Animation Timing
UI_TRANSITION_FAST=150ms
UI_TRANSITION_BASE=250ms
UI_TRANSITION_SLOW=350ms

# Component Styling
UI_CARD_RADIUS=1rem
UI_BUTTON_RADIUS=0.5rem
UI_INPUT_RADIUS=0.5rem

# Dashboard Content
UI_DASHBOARD_TITLE=ComplianceAI Intelligence
UI_DASHBOARD_SUBTITLE=Advanced KYC Processing & Compliance Automation Platform
UI_COMPANY_NAME=ComplianceAI

# =============================================================================
# DATABASE CONFIGURATION (SIMPLIFIED)
# =============================================================================

# PostgreSQL (Primary Database)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=kyc_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=password

# Redis (Caching & Session Management)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_URL=redis://redis:6379

# MongoDB (Document Storage)
MONGO_USER=admin
MONGO_PASSWORD=password
MONGO_DB=kyc_db

# Qdrant Vector Database (AI Memory)
QDRANT_HOST=qdrant
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334

# Apache Kafka (Message Streaming)
KAFKA_BOOTSTRAP_SERVERS=kafka:29092
KAFKA_ENABLED=true

# =============================================================================
# AI/ML SERVICES CONFIGURATION
# =============================================================================

# OpenAI API (Required for AI processing)
OPENAI_API_KEY=your-openai-api-key-here

# Vision Processing Configuration
VISION_MODEL=gpt-4-vision-preview
# Alternative: gpt-4o, gpt-4-turbo

# =============================================================================
# COST OPTIMIZATION SETTINGS
# =============================================================================

# Target cost per KYC case (USD)
TARGET_COST_PER_CASE=0.50

# Processing method preferences (percentage)
LOCAL_OCR_PERCENTAGE=80
AI_VISION_PERCENTAGE=20
FAST_TRACK_PERCENTAGE=80
COMPLEX_LLM_PERCENTAGE=20

# Cost thresholds
MAX_COST_PER_DOCUMENT=0.15
MAX_COST_PER_ANALYSIS=0.25
MAX_COST_PER_DECISION=0.15

# =============================================================================
# SIMPLIFIED AGENT CONFIGURATION
# =============================================================================

# Intake & Processing Agent
INTAKE_AGENT_URL=http://intake-agent:8001
INTAKE_AGENT_PORT=8001

# Intelligence & Compliance Agent  
INTELLIGENCE_AGENT_URL=http://intelligence-agent:8002
INTELLIGENCE_AGENT_PORT=8002

# Decision & Orchestration Agent
DECISION_AGENT_URL=http://decision-agent:8003
DECISION_AGENT_PORT=8003

# =============================================================================
# PERFORMANCE TARGETS
# =============================================================================

# Processing speed targets
TARGET_PROCESSING_TIME_SECONDS=15
TARGET_THROUGHPUT_CASES_PER_HOUR=1000

# Quality targets
TARGET_ACCURACY_PERCENTAGE=96
TARGET_CONFIDENCE_THRESHOLD=0.85

# =============================================================================
# DOCKER PORT CONFIGURATION (SIMPLIFIED)
# =============================================================================

# Core Services
KYC_PORT=8000
POSTGRES_PORT=5432
REDIS_PORT=6379
QDRANT_PORT=6333
QDRANT_GRPC_PORT=6334

# =============================================================================
# MONITORING & LOGGING (OPTIONAL)
# =============================================================================

# Prometheus (if monitoring enabled)
PROMETHEUS_PORT=9090

# Grafana (if monitoring enabled)
GRAFANA_PORT=3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=admin

# =============================================================================
# BUSINESS CONFIGURATION
# =============================================================================

# Pricing tiers
STARTER_MONTHLY_PRICE=99
PROFESSIONAL_MONTHLY_PRICE=399
ENTERPRISE_MONTHLY_PRICE=1299

# Case limits per tier
STARTER_CASES_PER_MONTH=500
PROFESSIONAL_CASES_PER_MONTH=2500
ENTERPRISE_CASES_PER_MONTH=10000

# =============================================================================
# DEVELOPMENT & TESTING
# =============================================================================

# Environment
NODE_ENV=development
ENVIRONMENT=development

# Debug settings
DEBUG_ENABLED=true
VERBOSE_LOGGING=false

# Testing
RUN_TESTS_ON_STARTUP=false
ENABLE_TEST_ENDPOINTS=true

# =============================================================================
# FEATURE FLAGS (SIMPLIFIED ARCHITECTURE)
# =============================================================================

# Architecture
SIMPLIFIED_ARCHITECTURE=true
THREE_AGENT_MODE=true

# Cost optimization features
COST_OPTIMIZATION_ENABLED=true
LOCAL_PROCESSING_ENABLED=true
FAST_TRACK_ENABLED=true

# AI features
VISION_PROCESSING_ENABLED=true
AI_MEMORY_ENABLED=true
AUTONOMOUS_LEARNING_ENABLED=true

# Compliance features
REAL_TIME_COMPLIANCE_ENABLED=true
SANCTIONS_SCREENING_ENABLED=true
PEP_SCREENING_ENABLED=true

# Real-time features (Phase 2)
WEBSOCKET_ENABLED=true
REAL_TIME_AGENT_COMMUNICATION=true
LIVE_CASE_PROCESSING_VIEW=true
AGENT_CHAT_INTERFACE=true
AUTONOMOUS_LEARNING_DASHBOARD=true

# Production compliance integration (Phase 3)
PEP_DATA_SOURCE=local
SANCTIONS_UPDATE_INTERVAL=6
WORLDCHECK_API_KEY=your-worldcheck-api-key
DOWJONES_API_KEY=your-dowjones-api-key

# =============================================================================
# REGULATORY COMPLIANCE
# =============================================================================

# Supported regulations
AML_COMPLIANCE_ENABLED=true
KYC_COMPLIANCE_ENABLED=true
GDPR_COMPLIANCE_ENABLED=true
BASEL_III_COMPLIANCE_ENABLED=false

# Regional settings
DEFAULT_JURISDICTION=US
SUPPORTED_JURISDICTIONS=US,EU,UK,CA,AU

# =============================================================================
# MESSAGING & COMMUNICATION
# =============================================================================

# Kafka Configuration (Optional for simplified architecture)
KAFKA_ENABLED=false
KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# =============================================================================
# INTEGRATION SETTINGS
# =============================================================================

# External APIs (optional)
SANCTIONS_API_KEY=your-sanctions-api-key
PEP_API_KEY=your-pep-api-key
COMPLIANCE_API_KEY=your-compliance-api-key

# Webhook endpoints (optional)
WEBHOOK_URL=https://your-domain.com/webhooks/kyc
WEBHOOK_SECRET=your-webhook-secret

# =============================================================================
# BACKUP & RECOVERY
# =============================================================================

# Database backup
BACKUP_ENABLED=false
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30

# Data retention
DATA_RETENTION_MONTHS=60
LOG_RETENTION_DAYS=90

# =============================================================================
# NOTES
# =============================================================================

# This configuration is optimized for the simplified 3-agent architecture
# Cost targets: <$0.50 per KYC case, <15 seconds processing time
# Throughput target: 1,000+ cases per hour per instance
# Accuracy target: >96% automated decisions

# REGULATORY REPORTING SYSTEM CONFIGURATION
# ==========================================
# Regulatory Intelligence Agent Configuration
REG_INTEL_FEEDS={"eur_lex": "https://eur-lex.europa.eu/EN/rss/rss_derniers_documents_publies.xml", "eba": "https://www.eba.europa.eu/rss.xml", "bafin": "https://www.bafin.de/SharedDocs/Veroeffentlichungen/DE/rss.xml", "cbi": "https://www.centralbank.ie/news/rss", "fca": "https://www.fca.org.uk/news/rss.xml"}
REGULATORY_POLLING_INTERVAL=3600
REGULATORY_RETRY_ATTEMPTS=3
REGULATORY_BACKOFF_FACTOR=2
REGULATORY_MAX_CONTENT_SIZE=10485760
REGULATORY_TIMEOUT_SECONDS=30

# Report Generation Configuration
REPORT_TEMPLATES_PATH=/app/templates
REPORT_OUTPUT_PATH=/app/data/reports
REPORT_ARCHIVE_PATH=/app/data/archive
REPORT_RETENTION_DAYS=2555

# EBA API Configuration (for report submission)
EBA_API_CREDENTIALS={"api_key": "", "client_id": "", "client_secret": "", "base_url": "https://api.eba.europa.eu/v1/"}
EBA_API_TIMEOUT=60
EBA_API_RETRY_ATTEMPTS=3

# SFTP Configuration (for report delivery)
SFTP_CONFIG={"host": "", "port": 22, "username": "", "password": "", "private_key_path": "", "remote_path": "/reports/", "timeout": 30}

# Jurisdiction Configuration
JURISDICTION_CONFIG={"default": "EU", "supported": ["EU", "DE", "IE", "GB"], "priority_order": ["EU", "DE", "IE", "GB"]}

# Regulatory Processing Configuration
REGULATORY_CONFIDENCE_THRESHOLD=0.75
REGULATORY_VALIDATION_ENABLED=true
REGULATORY_AUTO_APPROVAL_THRESHOLD=0.95
REGULATORY_HUMAN_REVIEW_THRESHOLD=0.60

# Compliance Report Types
SUPPORTED_REPORT_TYPES=["FINREP", "COREP", "DORA", "CUSTOM"]
DEFAULT_REPORT_FORMAT=JSON
REPORT_VALIDATION_ENABLED=true

# Regulatory Deadline Management
DEADLINE_NOTIFICATION_DAYS=30,14,7,1
DEADLINE_AUTO_TRIGGER_ENABLED=true
DEADLINE_ESCALATION_ENABLED=true

# Performance and SLA Configuration
REGULATORY_SLA_LATENCY_MS=300000
REGULATORY_SLA_THROUGHPUT_PER_SEC=100
REGULATORY_PERFORMANCE_MONITORING=true
REGULATORY_METRICS_RETENTION_DAYS=90

# Security and Audit Configuration
REGULATORY_AUDIT_ENABLED=true
REGULATORY_AUDIT_LEVEL=INFO
REGULATORY_ENCRYPTION_ENABLED=true
REGULATORY_DATA_CLASSIFICATION=CONFIDENTIAL

# Feed Health Monitoring
FEED_HEALTH_CHECK_INTERVAL=1800
FEED_FAILURE_THRESHOLD=3
FEED_RECOVERY_CHECK_INTERVAL=300
FEED_ALERT_ENABLED=true

# Machine Learning and AI Configuration
REGULATORY_ML_ENABLED=true
REGULATORY_ML_CONFIDENCE_THRESHOLD=0.80
REGULATORY_NLP_MODEL=spacy_en_core_web_sm
REGULATORY_ENTITY_EXTRACTION_ENABLED=true

# Document Processing Configuration
REGULATORY_PDF_PROCESSING_ENABLED=true
REGULATORY_HTML_PROCESSING_ENABLED=true
REGULATORY_XML_PROCESSING_ENABLED=true
REGULATORY_OCR_ENABLED=false
REGULATORY_LANGUAGE_DETECTION_ENABLED=true

# Document Parser AI/ML Configuration (Phase 2.3)
REGULATORY_MAX_CONTENT_SIZE=10485760
REGULATORY_TIMEOUT_SECONDS=300
REGULATORY_CONFIDENCE_THRESHOLD=0.6
REGULATORY_MAX_OBLIGATIONS_PER_DOC=50
DOCUMENT_PARSER_OPENAI_MODEL=gpt-4
DOCUMENT_PARSER_TEMPERATURE=0.1
DOCUMENT_PARSER_MAX_TOKENS=4000
DOCUMENT_PARSER_SPACY_MODEL=en_core_web_sm
DOCUMENT_PARSER_CHUNK_SIZE=2000
DOCUMENT_PARSER_CHUNK_OVERLAP=200

# Document Extraction Methods Configuration
DOCUMENT_PARSER_PDF_METHOD=pdfplumber
DOCUMENT_PARSER_HTML_METHOD=beautifulsoup
DOCUMENT_PARSER_FALLBACK_ENABLED=true
DOCUMENT_PARSER_OCR_ENABLED=false

# Document Processing Performance
DOCUMENT_PARSER_CONCURRENT_DOCS=5
DOCUMENT_PARSER_RETRY_ATTEMPTS=3
DOCUMENT_PARSER_RETRY_DELAY=4
DOCUMENT_PARSER_HTTP_TIMEOUT=60

# Document Parser Monitoring
DOCUMENT_PARSER_METRICS_ENABLED=true
DOCUMENT_PARSER_LOG_LEVEL=INFO
DOCUMENT_PARSER_TEMP_DIR=/tmp/regulatory_parser

# Kafka Producer Configuration (Phase 2.5)
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_PRODUCER_RETRIES=3
KAFKA_RETRY_BACKOFF_MS=1000
KAFKA_BATCH_SIZE=16384
KAFKA_LINGER_MS=10
KAFKA_BUFFER_MEMORY=33554432
KAFKA_COMPRESSION_TYPE=lz4
KAFKA_REQUEST_TIMEOUT_MS=30000
KAFKA_DELIVERY_TIMEOUT_MS=120000

# Kafka Security Configuration
KAFKA_SECURITY_PROTOCOL=PLAINTEXT
KAFKA_SSL_CAFILE=
KAFKA_SSL_CERTFILE=
KAFKA_SSL_KEYFILE=
KAFKA_SASL_MECHANISM=PLAIN
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=

# Kafka Producer Behavior
KAFKA_DLQ_ENABLED=true
KAFKA_MAX_RETRIES=3
KAFKA_EVENT_VALIDATION_ENABLED=true

# Kafka Topics Configuration
KAFKA_REGULATORY_UPDATES_TOPIC=regulatory.updates
KAFKA_REGULATORY_DEADLINES_TOPIC=regulatory.deadlines
KAFKA_COMPLIANCE_REPORTS_TOPIC=compliance.reports
KAFKA_REGULATORY_AUDIT_TOPIC=regulatory.audit

# Resilience Manager Configuration (Phase 2.6)
RESILIENCE_MAX_FAILURE_RECORDS=10000
RESILIENCE_DLQ_PROCESSING_INTERVAL=300
RESILIENCE_FAILURE_ANALYSIS_INTERVAL=600

# Feed Polling Retry Policy
RESILIENCE_FEED_POLLING_MAX_ATTEMPTS=3
RESILIENCE_FEED_POLLING_BASE_DELAY=2.0
RESILIENCE_FEED_POLLING_MAX_DELAY=60.0

# Document Processing Retry Policy
RESILIENCE_DOCUMENT_PROCESSING_MAX_ATTEMPTS=3
RESILIENCE_DOCUMENT_PROCESSING_BASE_DELAY=4.0
RESILIENCE_DOCUMENT_PROCESSING_MAX_DELAY=300.0

# Database Operations Retry Policy
RESILIENCE_DATABASE_MAX_ATTEMPTS=3
RESILIENCE_DATABASE_BASE_DELAY=1.0
RESILIENCE_DATABASE_MAX_DELAY=30.0

# Kafka Publishing Retry Policy
RESILIENCE_KAFKA_MAX_ATTEMPTS=5
RESILIENCE_KAFKA_BASE_DELAY=1.0
RESILIENCE_KAFKA_MAX_DELAY=60.0

# Circuit Breaker Configuration - Feed Sources
RESILIENCE_FEED_FAILURE_THRESHOLD=5
RESILIENCE_FEED_RECOVERY_TIMEOUT=300.0
RESILIENCE_FEED_SUCCESS_THRESHOLD=3
RESILIENCE_FEED_TIMEOUT=30.0

# Circuit Breaker Configuration - Database
RESILIENCE_DB_FAILURE_THRESHOLD=3
RESILIENCE_DB_RECOVERY_TIMEOUT=60.0
RESILIENCE_DB_SUCCESS_THRESHOLD=2
RESILIENCE_DB_TIMEOUT=10.0

# Circuit Breaker Configuration - Kafka
RESILIENCE_KAFKA_FAILURE_THRESHOLD=5
RESILIENCE_KAFKA_RECOVERY_TIMEOUT=120.0
RESILIENCE_KAFKA_SUCCESS_THRESHOLD=3
RESILIENCE_KAFKA_TIMEOUT=30.0

# Cache Configuration
REGULATORY_CACHE_ENABLED=true
REGULATORY_CACHE_TTL=3600
REGULATORY_CACHE_MAX_SIZE=1000

# Notification Configuration
REGULATORY_NOTIFICATIONS_ENABLED=true
REGULATORY_EMAIL_NOTIFICATIONS=false
REGULATORY_WEBHOOK_NOTIFICATIONS=true
REGULATORY_SLACK_NOTIFICATIONS=false

# Development and Testing Configuration
REGULATORY_DEBUG_MODE=false
REGULATORY_TEST_MODE=false
REGULATORY_MOCK_FEEDS_ENABLED=false
REGULATORY_SAMPLE_DATA_ENABLED=false

# =============================================================================
# PHASE 3: INTELLIGENCE & COMPLIANCE AGENT ENHANCEMENT
# =============================================================================

# Rule Compiler Configuration
RULE_COMPILER_AI_MODEL=gpt-4
RULE_COMPILER_TEMPERATURE=0.1
RULE_COMPILER_MAX_TOKENS=1500
RULE_COMPILER_BATCH_SIZE=20
RULE_COMPILER_CACHE_TTL=3600

# JSON-Logic Rule Generation
JSONLOGIC_VALIDATION_ENABLED=true
JSONLOGIC_TEST_DATA_ENABLED=true
JSONLOGIC_PERFORMANCE_TARGET_MS=100

# Kafka Consumer Configuration
KAFKA_CONSUMER_GROUP_ID=intelligence-compliance-regulatory-group
KAFKA_CONSUMER_AUTO_OFFSET_RESET=latest
KAFKA_CONSUMER_ENABLE_AUTO_COMMIT=false
KAFKA_CONSUMER_MAX_POLL_RECORDS=100
KAFKA_CONSUMER_SESSION_TIMEOUT_MS=30000
KAFKA_CONSUMER_HEARTBEAT_INTERVAL_MS=10000

# Jurisdiction Handler Configuration
JURISDICTION_DEFAULT=EU
JURISDICTION_SUPPORTED=["EU", "DE", "IE", "GB", "FR", "IT", "ES", "NL", "AT", "BE", "LU", "PT", "FI", "SE", "DK"]
JURISDICTION_DETECTION_CONFIDENCE_THRESHOLD=0.7
JURISDICTION_CONFLICT_RESOLUTION_STRATEGY=highest_precedence

# Overlap Resolver Configuration
OVERLAP_SIMILARITY_THRESHOLD_IDENTICAL=0.95
OVERLAP_SIMILARITY_THRESHOLD_SEMANTIC=0.80
OVERLAP_SIMILARITY_THRESHOLD_PARTIAL=0.60
OVERLAP_SIMILARITY_THRESHOLD_HIERARCHICAL=0.70
OVERLAP_SIMILARITY_THRESHOLD_CONFLICTING=0.50
OVERLAP_SIMILARITY_THRESHOLD_COMPLEMENTARY=0.40
OVERLAP_PERFORMANCE_TARGET_MS=200

# NLP Configuration for Overlap Detection
NLP_MODEL=en_core_web_sm
NLP_TFIDF_MAX_FEATURES=5000
NLP_NGRAM_RANGE_MIN=1
NLP_NGRAM_RANGE_MAX=3

# Audit Logging Configuration
AUDIT_BATCH_SIZE=100
AUDIT_BATCH_TIMEOUT=5
AUDIT_RETENTION_DAYS=2555
AUDIT_ENCRYPTION_PASSWORD=your-audit-encryption-password-change-in-production
AUDIT_ENCRYPTION_SALT=audit_salt_2024_change_in_production
AUDIT_HMAC_KEY=your-audit-hmac-key-change-in-production-minimum-32-chars
AUDIT_EXPORT_DIR=/app/exports/audit
AUDIT_INTEGRITY_VERIFICATION_ENABLED=true

# Performance Optimization
RULE_CACHE_TTL=3600
JURISDICTION_CACHE_TTL=1800
OVERLAP_CACHE_TTL=7200
AUDIT_CACHE_TTL=300

# Monitoring and Alerting
PHASE3_METRICS_ENABLED=true
PHASE3_PERFORMANCE_MONITORING=true
PHASE3_ERROR_ALERTING=true

# For production deployment:
# 1. Change all default passwords
# 2. Set proper JWT_SECRET
# 3. Configure your OpenAI API key
# 4. Set REQUIRE_AUTH=true if authentication needed
# 5. Configure monitoring endpoints
# 6. Set appropriate resource limits
# 7. Configure regulatory feed credentials and endpoints
# 8. Set up SFTP and EBA API access for report delivery
# 9. Configure jurisdiction-specific settings
# 10. Enable regulatory audit and monitoring
# 11. Configure Phase 3 rule compilation and jurisdiction handling
# 12. Set up audit encryption and integrity verification
# 13. Configure overlap detection NLP models and thresholds
