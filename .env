# KYC Automation Platform - Environment Variables Configuration
# Copy this file to .env and update the values for your environment

# =============================================================================
# CORE APPLICATION SETTINGS
# =============================================================================

# Authentication Configuration
REQUIRE_AUTH=false
JWT_SECRET=your-jwt-secret-key-change-in-production-minimum-32-characters
JWT_EXPIRATION_HOURS=24
SESSION_TIMEOUT_HOURS=24

# Server Configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
MAX_FILE_SIZE_BYTES=10485760
RUST_LOG=info

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Database
DATABASE_ENABLED=true
DATABASE_TYPE=postgresql
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=kyc_platform
DATABASE_USERNAME=kyc_user
DATABASE_PASSWORD=kyc_password_change_in_production
DATABASE_MAX_CONNECTIONS=20
DATABASE_CONNECTION_TIMEOUT_SECONDS=30
DATABASE_SSL_MODE=prefer

# Redis Cache
CACHE_ENABLED=true
CACHE_TYPE=redis
CACHE_HOST=redis
CACHE_PORT=6379
CACHE_PASSWORD=
CACHE_DATABASE=0
CACHE_TTL_SECONDS=3600

# =============================================================================
# MESSAGING CONFIGURATION
# =============================================================================

# Kafka Configuration
KAFKA_BROKERS=kafka:29092
KAFKA_KYC_REQUEST_TOPIC=kyc_requests
KAFKA_KYC_RESULT_TOPIC=kyc_results
KAFKA_KYC_FEEDBACK_TOPIC=kyc_feedback
KAFKA_CONSUMER_GROUP=kyc_orchestrator
KAFKA_AUTO_OFFSET_RESET=earliest
KAFKA_ENABLE_AUTO_COMMIT=true
KAFKA_SESSION_TIMEOUT_MS=30000
KAFKA_HEARTBEAT_INTERVAL_MS=3000

# =============================================================================
# VECTOR DATABASE CONFIGURATION
# =============================================================================

# Pinecone Configuration
PINECONE_API_KEY=pcsk_48GEKe_LY3BJKZuvHLbv23QFuxXHDK1CXX7GYk9Q8SjmpCYFn7AvttZUpGunpxZrXraJpB
PINECONE_ENVIRONMENT=us-east-1
PINECONE_INDEX_NAME=gaigentic-memory
PINECONE_DIMENSION=1536
PINECONE_METRIC=cosine
PINECONE_PODS=1
PINECONE_REPLICAS=1
PINECONE_POD_TYPE=p1.x1

# =============================================================================
# AGENT SERVICE ENDPOINTS
# =============================================================================

# Internal Service URLs
OCR_AGENT_URL=http://ocr-agent:8001
FACE_AGENT_URL=http://face-agent:8002
WATCHLIST_AGENT_URL=http://watchlist-agent:8003
DATA_INTEGRATION_AGENT_URL=http://data-integration-agent:8004
QA_AGENT_URL=http://qa-agent:8005

# Agent Service Ports
OCR_AGENT_PORT=8001
FACE_AGENT_PORT=8002
WATCHLIST_AGENT_PORT=8003
DATA_INTEGRATION_AGENT_PORT=8004
QA_AGENT_PORT=8005

# =============================================================================
# EXTERNAL API INTEGRATIONS
# =============================================================================

# Credit Bureau APIs
CREDIT_BUREAU_ENABLED=true
CREDIT_BUREAU_API_KEY=your-credit-bureau-api-key
CREDIT_BUREAU_BASE_URL=https://api.creditbureau.com
CREDIT_BUREAU_TIMEOUT_SECONDS=30
CREDIT_BUREAU_RETRY_ATTEMPTS=3

# Experian Credit Bureau
EXPERIAN_API_KEY=your-experian-api-key
EXPERIAN_BASE_URL=https://api.experian.com
EXPERIAN_CLIENT_ID=your-experian-client-id
EXPERIAN_CLIENT_SECRET=your-experian-client-secret

# Address Verification Services
ADDRESS_VERIFICATION_ENABLED=true
ADDRESS_VERIFICATION_API_KEY=your-address-verification-api-key
ADDRESS_VERIFICATION_BASE_URL=https://api.addressverification.com
ADDRESS_VERIFICATION_TIMEOUT_SECONDS=15

# Public Records APIs
PUBLIC_RECORDS_ENABLED=true
PUBLIC_RECORDS_API_KEY=your-public-records-api-key
PUBLIC_RECORDS_BASE_URL=https://api.publicrecords.com
PUBLIC_RECORDS_TIMEOUT_SECONDS=30

# Social Media Verification
SOCIAL_MEDIA_ENABLED=true
SOCIAL_MEDIA_TIMEOUT_SECONDS=20
FACEBOOK_APP_ID=your-facebook-app-id
FACEBOOK_APP_SECRET=your-facebook-app-secret
TWITTER_API_KEY=your-twitter-api-key
TWITTER_API_SECRET=your-twitter-api-secret
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret

# =============================================================================
# WATCHLIST AND SANCTIONS SCREENING
# =============================================================================

# OFAC (Office of Foreign Assets Control)
OFAC_API_ENABLED=true
OFAC_API_KEY=your-ofac-api-key
OFAC_BASE_URL=https://api.treasury.gov/ofac
OFAC_UPDATE_FREQUENCY_HOURS=24

# EU Sanctions List
EU_SANCTIONS_ENABLED=true
EU_SANCTIONS_API_KEY=your-eu-sanctions-api-key
EU_SANCTIONS_BASE_URL=https://webgate.ec.europa.eu/fsd/fsf
EU_SANCTIONS_UPDATE_FREQUENCY_HOURS=24

# UN Sanctions List
UN_SANCTIONS_ENABLED=true
UN_SANCTIONS_API_KEY=your-un-sanctions-api-key
UN_SANCTIONS_BASE_URL=https://scsanctions.un.org/api
UN_SANCTIONS_UPDATE_FREQUENCY_HOURS=24

# PEP (Politically Exposed Persons) Database
PEP_DATABASE_ENABLED=true
PEP_DATABASE_API_KEY=your-pep-database-api-key
PEP_DATABASE_BASE_URL=https://api.pepdatabase.com
PEP_DATABASE_UPDATE_FREQUENCY_HOURS=168

# World-Check (Refinitiv)
WORLD_CHECK_ENABLED=true
WORLD_CHECK_API_KEY=your-world-check-api-key
WORLD_CHECK_BASE_URL=https://api.refinitiv.com/world-check
WORLD_CHECK_CLIENT_ID=your-world-check-client-id

# =============================================================================
# BIOMETRIC AND FACE RECOGNITION
# =============================================================================

# Face Recognition Configuration
FACE_RECOGNITION_ENABLED=true
FACE_RECOGNITION_CONFIDENCE_THRESHOLD=0.75
FACE_RECOGNITION_MODEL_PATH=/app/models/face_recognition
FACE_RECOGNITION_DISTANCE_THRESHOLD=0.6

# Liveness Detection
LIVENESS_DETECTION_ENABLED=true
LIVENESS_EYE_ASPECT_RATIO_THRESHOLD=0.25
LIVENESS_BLINK_FRAMES_THRESHOLD=3
LIVENESS_TEXTURE_ANALYSIS_ENABLED=true
LIVENESS_DEPTH_ANALYSIS_ENABLED=true

# Facial Landmark Detection
FACIAL_LANDMARKS_MODEL_PATH=/app/models/shape_predictor_68_face_landmarks.dat
FACIAL_LANDMARKS_ENABLED=true

# =============================================================================
# PROCESSING CONFIGURATION
# =============================================================================

# Processing Timeouts (seconds)
OCR_PROCESSING_TIMEOUT=30
FACE_RECOGNITION_TIMEOUT=45
WATCHLIST_SCREENING_TIMEOUT=20
DATA_INTEGRATION_TIMEOUT=60
QA_VALIDATION_TIMEOUT=15

# Retry Configuration
MAX_RETRY_ATTEMPTS=3
RETRY_BACKOFF_MULTIPLIER=2
INITIAL_RETRY_DELAY_SECONDS=1

# Quality Thresholds (0-100)
MINIMUM_OCR_CONFIDENCE=50.0
MINIMUM_FACE_MATCH_SCORE=75.0
MINIMUM_DOCUMENT_QUALITY=60.0
MINIMUM_OVERALL_CONFIDENCE=70.0

# Risk Assessment Thresholds (0-100)
LOW_RISK_THRESHOLD=30.0
MEDIUM_RISK_THRESHOLD=60.0
HIGH_RISK_THRESHOLD=80.0
AUTO_APPROVE_THRESHOLD=20.0
AUTO_REJECT_THRESHOLD=85.0
MANUAL_REVIEW_THRESHOLD=60.0

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Encryption Settings
ENCRYPTION_ALGORITHM=AES-256-GCM
ENCRYPTION_KEY=your-32-character-encryption-key-here
ENCRYPTION_KEY_ROTATION_DAYS=90
DATA_AT_REST_ENCRYPTION=true
DATA_IN_TRANSIT_ENCRYPTION=true

# Rate Limiting
RATE_LIMITING_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_BURST_SIZE=10

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000,https://yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# =============================================================================
# MONITORING AND LOGGING
# =============================================================================

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090
PROMETHEUS_METRICS_PATH=/metrics
PROMETHEUS_COLLECTION_INTERVAL_SECONDS=30

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=/app/logs/kyc-platform.log
LOG_FILE_MAX_SIZE_MB=100
LOG_FILE_MAX_FILES=10

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_SECONDS=30
HEALTH_CHECK_TIMEOUT_SECONDS=10
HEALTH_CHECK_RETRIES=3

# =============================================================================
# COMPLIANCE CONFIGURATION
# =============================================================================

# Data Retention Policies (days)
DOCUMENTS_RETENTION_DAYS=2555
LOGS_RETENTION_DAYS=365
RESULTS_RETENTION_DAYS=2555
AUDIT_TRAIL_RETENTION_DAYS=2555

# Privacy Settings
DATA_ANONYMIZATION_ENABLED=true
PII_ENCRYPTION_ENABLED=true
AUDIT_LOGGING_ENABLED=true
GDPR_COMPLIANCE_ENABLED=true
CCPA_COMPLIANCE_ENABLED=true

# Watchlist Screening Settings
FUZZY_MATCH_THRESHOLD=85
PARTIAL_MATCH_THRESHOLD=70
SANCTIONS_SCREENING_ENABLED=true
PEP_SCREENING_ENABLED=true
ADVERSE_MEDIA_SCREENING_ENABLED=true
