<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main User Guides - ComplianceAI</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/css/design-system.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        /* Professional User Guides Styles */
        .dashboard-header {
            background: linear-gradient(135deg, #4f46e5 0%, #7c3aed 50%, #ec4899 100%);
            color: white;
            padding: 4rem 0;
            position: relative;
            overflow: hidden;
        }

        .dashboard-header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url("data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>");
            opacity: 0.3;
        }

        .dashboard-header .container {
            position: relative;
            z-index: 1;
        }

        .dashboard-title {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, #ffffff 0%, #e0e7ff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .dashboard-subtitle {
            font-size: 1.125rem;
            opacity: 0.9;
            font-weight: 400;
        }

        /* Professional Tabbed Navigation */
        .main-navigation {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid #e2e8f0;
            position: sticky;
            top: 0;
            z-index: 1020;
        }

        .nav-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1rem 0;
        }

        .nav-links {
            display: flex;
            gap: 0.5rem;
        }

        .home-button {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.75rem;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.15s ease;
        }

        .home-button:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 25px rgba(79, 70, 229, 0.3);
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: #64748b;
            text-decoration: none;
            border-radius: 0.75rem;
            transition: all 0.15s ease;
            border: 1px solid transparent;
        }

        .nav-link:hover,
        .nav-link.active {
            color: #4f46e5;
            background: #f0f4ff;
            border-color: #4f46e5;
        }

        .nav-link svg {
            width: 16px;
            height: 16px;
        }

        /* Tabbed Content Styles */
        /* Add extra top spacing so sticky navigation does not overlap headings */
        .tabbed-content {
            margin-top: calc(2rem + 3.5rem);
        }

        .content-tabs {
            background: white;
            border-radius: 1rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            border: 1px solid #e2e8f0;
            overflow: hidden;
        }

        .tab-navigation {
            background: #f8fafc;
            border-bottom: 1px solid #e2e8f0;
            padding: 0;
        }

        .tab-nav-list {
            display: flex;
            margin: 0;
            padding: 0;
            list-style: none;
            overflow-x: auto;
            gap: 0.5rem;
        }

        /* Allow tabs to size naturally and scroll horizontally instead of compressing */
        .tab-nav-item {
            flex: 0 0 auto;
            min-width: 120px;
            margin-right: 0.25rem;
        }

        .tab-nav-link {
            display: block;
            padding: 0.6rem 1rem;
            text-align: center;
            font-weight: 600;
            color: #64748b;
            text-decoration: none;
            border-bottom: 3px solid transparent;
            transition: all 0.2s ease;
            position: relative;
            white-space: nowrap;
            font-size: 0.95rem;
        }

        .tab-nav-link:hover {
            color: #4f46e5;
            background: rgba(79, 70, 229, 0.05);
        }

        .tab-nav-link.active {
            color: #4f46e5;
            background: rgba(79, 70, 229, 0.1);
            border-bottom-color: #4f46e5;
        }

        .tab-content {
            padding: 2rem;
        }

        .tab-pane {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .tab-pane.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Content Styles */
        .feature-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            border: 1px solid #e2e8f0;
            margin-bottom: 2rem;
        }

        .feature-header {
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #4f46e5;
        }

        .feature-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 0.5rem;
        }

        .feature-description {
            font-size: 1rem;
            color: #64748b;
        }

        .guide-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .guide-card {
            background: white;
            border-radius: 1rem;
            padding: 2rem;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1);
            border: 1px solid #e2e8f0;
            transition: all 0.25s ease;
        }

        .guide-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .guide-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .guide-icon {
            width: 48px;
            height: 48px;
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
            color: white;
        }

        .guide-intelligence { background: linear-gradient(135deg, #4f46e5, #7c3aed); }
        .guide-reports { background: linear-gradient(135deg, #3b82f6, #1d4ed8); }
        .guide-production { background: linear-gradient(135deg, #10b981, #059669); }
        .guide-api { background: linear-gradient(135deg, #f59e0b, #d97706); }

        .guide-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: #0f172a;
            margin-bottom: 0.25rem;
        }

        .guide-subtitle {
            font-size: 0.875rem;
            color: #64748b;
        }

        .step-number {
            background: linear-gradient(135deg, #4f46e5, #7c3aed);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: 1rem;
            font-size: 0.875rem;
        }

        .alert {
            border-radius: 0.5rem;
            border: none;
            padding: 1rem 1.5rem;
            margin: 1rem 0;
        }

        .alert-info {
            background: #eff6ff;
            color: #1e40af;
        }

        .alert-success {
            background: #dcfce7;
            color: #166534;
        }

        .code-block {
            background: #1e293b;
            color: #e2e8f0;
            font-family: "JetBrains Mono", "Fira Code", Consolas, monospace;
            padding: 1.5rem;
            border-radius: 0.5rem;
            max-height: 400px;
            overflow-y: auto;
            font-size: 0.875rem;
            border: 1px solid #334155;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <!-- Professional Dashboard Header -->
    <header class="dashboard-header">
        <div class="container">
            <h1 class="dashboard-title">ComplianceAI</h1>
            <p class="dashboard-subtitle">KYC Processing & Compliance Platform</p>
            <div style="position:absolute;right:24px;top:24px;">
                <a href="/" class="btn btn-outline-light"><i class="fas fa-home me-2"></i>Home</a>
            </div>
        </div>
    </header>

    
    <!-- Professional Tabbed Navigation -->
    <nav class="main-navigation">
        <div class="container">
            <div class="nav-container">
                <div class="nav-links">
                    <a href="/" class="home-button">
                        <i class="fas fa-home me-2"></i>Home
                    </a>
                    <a href="/intelligence" class="nav-link">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"/>
                        </svg>
                        Intelligence
                    </a>
                    <a href="/reports" class="nav-link">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"/>
                        </svg>
                        Reports
                    </a>
                    <a href="/monitoring" class="nav-link">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
                        </svg>
                        Monitoring
                    </a>
                    <a href="/user-guides" class="nav-link active">
                        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                        </svg>
                        Documentation
                    </a>
                </div>
                <div class="system-status">
                    <div class="system-status">
                        <div class="status-dot"></div>
                        Documentation Active
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Professional Tabbed Content -->
    <div class="tabbed-content">
        <div class="container">
            <div class="content-tabs">
                <!-- Tab Navigation -->
                <div class="tab-navigation">
                    <ul class="tab-nav-list">
                        <li class="tab-nav-item">
                            <a href="#overview" class="tab-nav-link active" data-tab="overview" onclick="switchTab('overview')">
                                <i class="fas fa-home me-2"></i>Overview
                            </a>
                        </li>
                        <li class="tab-nav-item">
                            <a href="#getting-started" class="tab-nav-link" data-tab="getting-started" onclick="switchTab('getting-started')">
                                <i class="fas fa-play me-2"></i>Getting Started
                            </a>
                        </li>
                        <li class="tab-nav-item">
                            <a href="#onboarding-guide" class="tab-nav-link" data-tab="onboarding-guide" onclick="switchTab('onboarding-guide')">
                                <i class="fas fa-user-plus me-2"></i>Customer Onboarding
                            </a>
                        </li>
                        <li class="tab-nav-item">
                            <a href="#kyc-review-guide" class="tab-nav-link" data-tab="kyc-review-guide" onclick="switchTab('kyc-review-guide')">
                                <i class="fas fa-search me-2"></i>KYC Review & Risk Scoring
                            </a>
                        </li>
                        <li class="tab-nav-item">
                            <a href="#intelligence-guide" class="tab-nav-link" data-tab="intelligence-guide" onclick="switchTab('intelligence-guide')">
                                <i class="fas fa-brain me-2"></i>Intelligence & Compliance
                            </a>
                        </li>
                        <li class="tab-nav-item">
                            <a href="#decisioning-guide" class="tab-nav-link" data-tab="decisioning-guide" onclick="switchTab('decisioning-guide')">
                                <i class="fas fa-gavel me-2"></i>Decisioning & Reporting
                            </a>
                        </li>
                        <li class="tab-nav-item">
                            <a href="#reports-guide" class="tab-nav-link" data-tab="reports-guide" onclick="switchTab('reports-guide')">
                                <i class="fas fa-chart-line me-2"></i>Compliance Reports
                            </a>
                        </li>
                        <li class="tab-nav-item">
                            <a href="#production-guide" class="tab-nav-link" data-tab="production-guide" onclick="switchTab('production-guide')">
                                <i class="fas fa-rocket me-2"></i>Production Readiness
                            </a>
                        </li>
                        <li class="tab-nav-item">
                            <a href="#api-reference" class="tab-nav-link" data-tab="api-reference" onclick="switchTab('api-reference')">
                                <i class="fas fa-code-branch me-2"></i>API Reference
                            </a>
                        </li>
                    </ul>
                </div>

                <!-- Tab Content -->
                <div class="tab-content">
                    <!-- Overview Tab -->
                    <div id="overview" class="tab-pane active">
                        <div class="row mb-4">
                            <div class="col-12">
                                <h2 class="mb-4">
                                    <i class="fas fa-book text-primary me-2"></i>
                                    Documentation Overview
                                </h2>
                            </div>
                        </div>

                        <div class="feature-card">
                            <div class="feature-header">
                                <h3 class="feature-title">Welcome to ComplianceAI</h3>
                                <p class="feature-description">Complete documentation for the comprehensive compliance automation platform</p>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i><strong>Intelligence & Compliance Agent</strong></li>
                                        <li><i class="fas fa-check text-success me-2"></i><strong>Report Generation</strong></li>
                                        <li><i class="fas fa-check text-success me-2"></i><strong>Production Readiness</strong></li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i><strong>API Reference:</strong> Complete REST API docs</li>
                                        <li><i class="fas fa-check text-success me-2"></i><strong>User Guides:</strong> Step-by-step tutorials</li>
                                        <li><i class="fas fa-check text-success me-2"></i><strong>Troubleshooting:</strong> Common issues & solutions</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Guide Cards Grid -->
                        <div class="guide-grid">
                            <div class="guide-card">
                                <div class="guide-header">
                                    <div class="guide-icon guide-start">
                                        <i class="fas fa-play"></i>
                                    </div>
                                    <div>
                                        <h4 class="guide-title">Getting Started</h4>
                                        <p class="guide-subtitle">Quick start and installation</p>
                                    </div>
                                </div>
                                <p>Step-by-step setup, environment configuration and first-run checks.</p>
                                <button class="btn btn-outline-primary" onclick="switchTab('getting-started')" type="button">
                                    <i class="fas fa-external-link-alt me-2"></i>Open
                                </button>
                            </div>

                            <div class="guide-card">
                                <div class="guide-header">
                                    <div class="guide-icon guide-intake">
                                        <i class="fas fa-user-plus"></i>
                                    </div>
                                    <div>
                                        <h4 class="guide-title">Customer Onboarding</h4>
                                        <p class="guide-subtitle">Document ingestion and profile creation</p>
                                    </div>
                                </div>
                                <p>Upload documents, run OCR, and create customer profiles with quality checks.</p>
                                <button class="btn btn-outline-primary" onclick="switchTab('onboarding-guide')" type="button">
                                    <i class="fas fa-external-link-alt me-2"></i>Open
                                </button>
                            </div>

                            <div class="guide-card">
                                <div class="guide-header">
                                    <div class="guide-icon guide-kyc">
                                        <i class="fas fa-search"></i>
                                    </div>
                                    <div>
                                        <h4 class="guide-title">KYC Review & Risk Scoring</h4>
                                        <p class="guide-subtitle">Verification, screening and scoring</p>
                                    </div>
                                </div>
                                <p>Identity verification, sanctions screening, PEP checks and risk scoring workflows.</p>
                                <button class="btn btn-outline-primary" onclick="switchTab('kyc-review-guide')" type="button">
                                    <i class="fas fa-external-link-alt me-2"></i>Open
                                </button>
                            </div>

                            <div class="guide-card">
                                <div class="guide-header">
                                    <div class="guide-icon guide-intelligence">
                                        <i class="fas fa-brain"></i>
                                    </div>
                                    <div>
                                        <h4 class="guide-title">Intelligence & Compliance</h4>
                                        <p class="guide-subtitle">Regulatory rule processing</p>
                                    </div>
                                </div>
                                <p>AI-powered rule compilation, jurisdiction handling, Kafka integration and audits.</p>
                                <button class="btn btn-outline-primary" onclick="switchTab('intelligence-guide')" type="button">
                                    <i class="fas fa-external-link-alt me-2"></i>Open
                                </button>
                            </div>

                            <div class="guide-card">
                                <div class="guide-header">
                                    <div class="guide-icon guide-decision">
                                        <i class="fas fa-gavel"></i>
                                    </div>
                                    <div>
                                        <h4 class="guide-title">Decisioning & Reporting</h4>
                                        <p class="guide-subtitle">Automated decisions and reports</p>
                                    </div>
                                </div>
                                <p>Decision workflows, human-in-the-loop review and regulatory reporting templates.</p>
                                <button class="btn btn-outline-primary" onclick="switchTab('decisioning-guide')" type="button">
                                    <i class="fas fa-external-link-alt me-2"></i>Open
                                </button>
                            </div>

                            <div class="guide-card">
                                <div class="guide-header">
                                    <div class="guide-icon guide-reports">
                                        <i class="fas fa-chart-line"></i>
                                    </div>
                                    <div>
                                        <h4 class="guide-title">Compliance Reports</h4>
                                        <p class="guide-subtitle">FINREP, COREP, DORA</p>
                                    </div>
                                </div>
                                <p>Generate and validate FINREP, COREP and DORA reports in required formats.</p>
                                <button class="btn btn-outline-primary" onclick="switchTab('reports-guide')" type="button">
                                    <i class="fas fa-external-link-alt me-2"></i>Open
                                </button>
                            </div>

                            <div class="guide-card">
                                <div class="guide-header">
                                    <div class="guide-icon guide-production">
                                        <i class="fas fa-rocket"></i>
                                    </div>
                                    <div>
                                        <h4 class="guide-title">Production Readiness</h4>
                                        <p class="guide-subtitle">Deployment, monitoring & security</p>
                                    </div>
                                </div>
                                <p>Deployment strategies, monitoring, backups, and security hardening for production.</p>
                                <button class="btn btn-outline-primary" onclick="switchTab('production-guide')" type="button">
                                    <i class="fas fa-external-link-alt me-2"></i>Open
                                </button>
                            </div>

                            <div class="guide-card">
                                <div class="guide-header">
                                    <div class="guide-icon guide-api">
                                        <i class="fas fa-code-branch"></i>
                                    </div>
                                    <div>
                                        <h4 class="guide-title">API Reference</h4>
                                        <p class="guide-subtitle">Complete REST API documentation</p>
                                    </div>
                                </div>
                                <p>Comprehensive API reference with examples, authentication, and integration guides.</p>
                                <div class="d-flex gap-2">
                                    <a class="btn btn-primary" href="/docs" target="_blank" rel="noopener noreferrer">
                                        <i class="fas fa-tools me-2"></i>Swagger UI
                                    </a>
                                    <a class="btn btn-outline-primary" href="/redoc" target="_blank" rel="noopener noreferrer">
                                        <i class="fas fa-book-open me-2"></i>ReDoc
                                    </a>
                                    <a class="btn btn-outline-secondary" href="/openapi.json" target="_blank" rel="noopener noreferrer">
                                        <i class="fas fa-file-code me-2"></i>Spec
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Getting Started Tab -->
                    <div id="getting-started" class="tab-pane">
                        <div class="feature-card">
                            <div class="feature-header">
                                <h3 class="feature-title">
                                    <i class="fas fa-play text-primary me-2"></i>
                                    Getting Started with ComplianceAI
                                </h3>
                                <p class="feature-description">Complete setup guide to get ComplianceAI up and running in your environment</p>
                            </div>

                            <!-- Prerequisites -->
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h5>System Requirements</h5>
                                    <table class="table table-sm">
                                        <tbody>
                                            <tr>
                                                <td><strong>OS:</strong></td>
                                                <td>Linux, macOS, Windows</td>
                                            </tr>
                                            <tr>
                                                <td><strong>CPU:</strong></td>
                                                <td>4+ cores recommended</td>
                                            </tr>
                                            <tr>
                                                <td><strong>RAM:</strong></td>
                                                <td>8GB minimum, 16GB recommended</td>
                                            </tr>
                                            <tr>
                                                <td><strong>Storage:</strong></td>
                                                <td>50GB SSD available</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="col-md-6">
                                    <h5>Software Dependencies</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fab fa-docker text-primary me-2"></i><strong>Docker:</strong> 20.10+</li>
                                        <li><i class="fas fa-cubes text-success me-2"></i><strong>Docker Compose:</strong> 2.0+</li>
                                        <li><i class="fab fa-git text-warning me-2"></i><strong>Git:</strong> For repository access</li>
                                        <li><i class="fas fa-key text-info me-2"></i><strong>OpenAI API Key:</strong> For AI features</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Installation Steps -->
                            <h5>Installation Process</h5>
                            <div class="mb-4">
                                <div class="d-flex align-items-start mb-4">
                                    <span class="step-number">1</span>
                                    <div class="ms-3">
                                        <h6>Clone the Repository</h6>
                                        <div class="code-block">
git clone https://github.com/your-org/complianceai.git
cd complianceai
                                        </div>
                                        <p class="text-muted mt-2">Download the ComplianceAI source code and navigate to the project directory.</p>
                                    </div>
                                </div>

                                <div class="d-flex align-items-start mb-4">
                                    <span class="step-number">2</span>
                                    <div class="ms-3">
                                        <h6>Configure Environment</h6>
                                        <div class="code-block">
# Copy environment template
cp .env.example .env

# Edit configuration (required)
nano .env
                                        </div>
                                        <p class="text-muted mt-2">Set up your environment variables including database credentials and API keys.</p>
                                    </div>
                                </div>

                                <div class="d-flex align-items-start mb-4">
                                    <span class="step-number">3</span>
                                    <div class="ms-3">
                                        <h6>Start Services</h6>
                                        <div class="code-block">
# Start all services
docker-compose up -d

# Monitor startup logs
docker-compose logs -f
                                        </div>
                                        <p class="text-muted mt-2">Launch all ComplianceAI services using Docker Compose and monitor the startup process.</p>
                                    </div>
                                </div>

                                <div class="d-flex align-items-start mb-4">
                                    <span class="step-number">4</span>
                                    <div class="ms-3">
                                        <h6>Verify Installation</h6>
                                        <div class="code-block">
# Check service health
curl http://localhost:8001/health

# Verify all containers
docker-compose ps

# Access web interface
open http://localhost:8001
                                        </div>
                                        <p class="text-muted mt-2">Verify that all services are running correctly and access the web interface.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Essential Configuration -->
                            <h5>Essential Configuration</h5>
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6>Database Configuration</h6>
                                    <div class="code-block">
# PostgreSQL Settings
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=kyc_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=your_secure_password

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>AI & External Services</h6>
                                    <div class="code-block">
# OpenAI Configuration (REQUIRED)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Kafka Settings
KAFKA_BOOTSTRAP_SERVERS=kafka:9092

# Application Settings
ENVIRONMENT=development
REQUIRE_AUTH=false
                                    </div>
                                </div>
                            </div>

                            <!-- First Use Guide -->
                            <h5>Your First KYC Case</h5>
                            <div class="alert alert-info mb-4">
                                <h6><i class="fas fa-lightbulb me-2"></i>Quick Start Workflow:</h6>
                                <ol class="mb-0">
                                    <li><strong>Access Dashboard:</strong> Open http://localhost:8001</li>
                                    <li><strong>Add Customer:</strong> Create a test customer profile</li>
                                    <li><strong>Upload Documents:</strong> Add sample ID and address documents</li>
                                    <li><strong>Start Processing:</strong> Initiate KYC verification</li>
                                    <li><strong>Monitor Progress:</strong> Track processing status</li>
                                    <li><strong>Review Results:</strong> Examine compliance decision</li>
                                </ol>
                            </div>

                            <!-- Sample API Calls -->
                            <h5>Sample API Usage</h5>
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6>Create Customer</h6>
                                    <div class="code-block">
curl -X POST http://localhost:8001/api/customers \
  -H "Content-Type: application/json" \
  -d '{
    "customer_id": "TEST001",
    "customer_type": "individual",
    "first_name": "John",
    "last_name": "Doe",
    "email": "john.doe@example.com"
  }'
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>Start KYC Process</h6>
                                    <div class="code-block">
curl -X POST http://localhost:8001/api/kyc/process \
  -H "Content-Type: application/json" \
  -d '{
    "customer_id": "TEST001",
    "jurisdiction": "EU",
    "documents": ["passport.jpg", "utility_bill.pdf"],
    "priority": "normal"
  }'
                                    </div>
                                </div>
                            </div>

                            <!-- Troubleshooting Setup Issues -->
                            <h5>Common Setup Issues</h5>
                            <div class="accordion" id="setupIssues">
                                <div class="accordion-item">
                                    <h6 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue1">
                                            <i class="fas fa-exclamation-triangle text-warning me-2"></i>Services not starting
                                        </button>
                                    </h6>
                                    <div id="issue1" class="accordion-collapse collapse" data-bs-parent="#setupIssues">
                                        <div class="accordion-body">
                                            <div class="code-block">
# Check for port conflicts
lsof -i :5432,6379,27017,9092

# Clean restart
docker-compose down -v
docker-compose up --build --force-recreate
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="accordion-item">
                                    <h6 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue2">
                                            <i class="fas fa-key text-danger me-2"></i>Missing API keys
                                        </button>
                                    </h6>
                                    <div id="issue2" class="accordion-collapse collapse" data-bs-parent="#setupIssues">
                                        <div class="accordion-body">
                                            <p>Ensure OpenAI API key is properly configured in .env file:</p>
                                            <div class="code-block">
# Check API key
grep OPENAI_API_KEY .env

# Test API connectivity
curl -H "Authorization: Bearer $OPENAI_API_KEY" \
  https://api.openai.com/v1/models
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="accordion-item">
                                    <h6 class="accordion-header">
                                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue3">
                                            <i class="fas fa-database text-info me-2"></i>Database connection errors
                                        </button>
                                    </h6>
                                    <div id="issue3" class="accordion-collapse collapse" data-bs-parent="#setupIssues">
                                        <div class="accordion-body">
                                            <div class="code-block">
# Test database connectivity
docker-compose exec postgres pg_isready -U postgres

# Check database logs
docker-compose logs postgres

# Reset database
docker-compose exec postgres psql -U postgres -c "DROP DATABASE IF EXISTS kyc_db;"
docker-compose exec postgres psql -U postgres -c "CREATE DATABASE kyc_db;"
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Next Steps -->
                            <h5>Next Steps & Resources</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>Explore Features</h6>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-brain text-primary me-2"></i><a href="#intelligence-guide" onclick="switchTab('intelligence-guide')" class="text-decoration-none">Intelligence & Compliance</a></li>
                                        <li><i class="fas fa-chart-line text-success me-2"></i><a href="#reports-guide" onclick="switchTab('reports-guide')" class="text-decoration-none">Compliance Reports</a></li>
                                        <li><i class="fas fa-rocket text-warning me-2"></i><a href="#production-guide" onclick="switchTab('production-guide')" class="text-decoration-none">Production Readiness</a></li>
                                        <li><i class="fas fa-code-branch text-info me-2"></i><a href="#api-reference" onclick="switchTab('api-reference')" class="text-decoration-none">API Reference</a></li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6>Support & Documentation</h6>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-question-circle text-primary me-2"></i><a href="/troubleshooting-guide" class="text-decoration-none">Troubleshooting Guide</a></li>
                                        <li><i class="fas fa-cog text-success me-2"></i><a href="/deployment-configs-guide" class="text-decoration-none">Deployment Guide</a></li>
                                        <li><i class="fas fa-chart-line text-warning me-2"></i><a href="/monitoring-metrics-guide" class="text-decoration-none">Monitoring Setup</a></li>
                                        <li><i class="fas fa-external-link-alt text-info me-2"></i><a href="/system-overview-guide" class="text-decoration-none">System Overview</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Customer Onboarding Guide Tab -->
                    <div id="onboarding-guide" class="tab-pane">
                        <div class="feature-card">
                            <div class="feature-header">
                                <h3 class="feature-title">
                                    <i class="fas fa-user-plus text-primary me-2"></i>
                                    Customer Onboarding
                                </h3>
                                <p class="feature-description">Efficient customer onboarding with automated document processing and data extraction</p>
                            </div>

                            <!-- Onboarding Process Overview -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5>Onboarding Workflow</h5>
                                    <div class="code-block">
Customer Onboarding Process:
├── Document Collection
│   ├── ID Document Upload
│   ├── Proof of Address
│   └── Additional Supporting Docs
├── Automated Processing
│   ├── OCR Text Extraction
│   ├── Data Validation
│   └── Quality Scoring
├── Profile Creation
│   ├── Customer Record Setup
│   ├── Risk Profile Initialization
│   └── Compliance Status Assignment
└── Processing Complete
    ├── Ready for KYC Review
    └── Audit Trail Generated
                                    </div>
                                </div>
                            </div>

                            <!-- Document Types and Requirements -->
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h5>Supported Document Types</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-id-card text-primary me-2"></i><strong>Government ID:</strong> Passports, driver's licenses</li>
                                        <li><i class="fas fa-home text-success me-2"></i><strong>Proof of Address:</strong> Utility bills, bank statements</li>
                                        <li><i class="fas fa-file-contract text-warning me-2"></i><strong>Legal Documents:</strong> Articles of incorporation</li>
                                        <li><i class="fas fa-signature text-info me-2"></i><strong>Signature Documents:</strong> Signed agreements</li>
                                        <li><i class="fas fa-images text-secondary me-2"></i><strong>Supporting Photos:</strong> Property documents</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h5>Processing Capabilities</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-robot text-primary me-2"></i><strong>AI OCR:</strong> Advanced text extraction</li>
                                        <li><i class="fas fa-magic text-success me-2"></i><strong>Auto-Classification:</strong> Document type detection</li>
                                        <li><i class="fas fa-check-circle text-warning me-2"></i><strong>Validation:</strong> Data integrity checks</li>
                                        <li><i class="fas fa-compress text-info me-2"></i><strong>Compression:</strong> Efficient storage</li>
                                        <li><i class="fas fa-shield-alt text-secondary me-2"></i><strong>Security:</strong> Encrypted processing</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- API Endpoints -->
                            <h5>Onboarding API Endpoints</h5>
                            <table class="table table-striped mb-4">
                                <thead>
                                    <tr>
                                        <th>Endpoint</th>
                                        <th>Method</th>
                                        <th>Description</th>
                                        <th>Request Body</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>/api/customers</code></td>
                                        <td><code>POST</code></td>
                                        <td>Create customer profile</td>
                                        <td>Customer details JSON</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/documents/upload</code></td>
                                        <td><code>POST</code></td>
                                        <td>Upload customer documents</td>
                                        <td>Multipart form data</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/processing/start</code></td>
                                        <td><code>POST</code></td>
                                        <td>Start document processing</td>
                                        <td>Processing configuration</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/processing/status/{id}</code></td>
                                        <td><code>GET</code></td>
                                        <td>Get processing status</td>
                                        <td>N/A</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Configuration Examples -->
                            <h5>Configuration Examples</h5>
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6>Customer Profile Creation</h6>
                                    <div class="code-block">
{
  "customer_id": "CUST001",
  "customer_type": "individual",
  "first_name": "John",
  "last_name": "Doe",
  "email": "john.doe@example.com",
  "phone": "+1-555-0123",
  "date_of_birth": "1990-01-15",
  "nationality": "US",
  "address": {
    "street": "123 Main St",
    "city": "New York",
    "state": "NY",
    "zip_code": "10001",
    "country": "US"
  }
}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>Document Processing Configuration</h6>
                                    <div class="code-block">
{
  "processing_mode": "automated",
  "ocr_engine": "tesseract",
  "quality_threshold": 0.8,
  "extraction_fields": [
    "full_name",
    "date_of_birth",
    "document_number",
    "expiration_date",
    "issuing_authority"
  ],
  "validation_rules": [
    "format_check",
    "expiry_check",
    "authenticity_check"
  ]
}
                                    </div>
                                </div>
                            </div>

                            <!-- Quick Access -->
                            <div class="row">
                                <div class="col-md-6">
                                    <h5>Quick Access</h5>
                                    <p>Access onboarding features:</p>
                                    <a href="/onboarding-guides" class="btn btn-primary me-2">Full Guide</a>
                                    <a href="/intake-processing-agent-guide" class="btn btn-outline-primary">Processing Agent</a>
                                </div>
                                <div class="col-md-6">
                                    <h5>Related Resources</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-external-link-alt text-primary me-2"></i><a href="/onboarding-guides" class="text-decoration-none">Customer Onboarding Details</a></li>
                                        <li><i class="fas fa-code text-success me-2"></i><a href="/api-reference" class="text-decoration-none">API Reference</a></li>
                                        <li><i class="fas fa-cog text-warning me-2"></i><a href="/troubleshooting-guide" class="text-decoration-none">Troubleshooting</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- KYC Review Guide Tab -->
                    <div id="kyc-review-guide" class="tab-pane">
                        <div class="feature-card">
                            <div class="feature-header">
                                <h3 class="feature-title">
                                    <i class="fas fa-search text-primary me-2"></i>
                                    KYC Review & Risk Scoring
                                </h3>
                                <p class="feature-description">Comprehensive identity verification and risk assessment for compliance</p>
                            </div>

                            <!-- KYC Review Process -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5>KYC Review Workflow</h5>
                                    <div class="code-block">
KYC Review Process:
├── Identity Verification
│   ├── Document Authentication
│   ├── Biometric Validation
│   └── Digital Identity Check
├── Risk Assessment
│   ├── Transaction Pattern Analysis
│   ├── Geographic Risk Scoring
│   └── Behavioral Analysis
├── Screening & Monitoring
│   ├── AML/Sanctions Screening
│   ├── PEP Checks
│   └── Adverse Media Review
├── Enhanced Due Diligence
│   ├── High-Risk Case Review
│   ├── Source of Funds Analysis
│   └── Beneficial Ownership Check
└── Decision & Reporting
    ├── Risk Score Calculation
    ├── Compliance Decision
    └── Regulatory Reporting
                                    </div>
                                </div>
                            </div>

                            <!-- Screening Capabilities -->
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h5>Screening Types</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-ban text-danger me-2"></i><strong>Sanctions Screening:</strong> OFAC, EU, UN lists</li>
                                        <li><i class="fas fa-user-tie text-warning me-2"></i><strong>PEP Screening:</strong> Politically exposed persons</li>
                                        <li><i class="fas fa-exclamation-triangle text-orange me-2"></i><strong>Adverse Media:</strong> Negative news screening</li>
                                        <li><i class="fas fa-users text-info me-2"></i><strong>Watchlist Screening:</strong> Internal watchlists</li>
                                        <li><i class="fas fa-globe text-success me-2"></i><strong>Geographic Risk:</strong> High-risk jurisdictions</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h5>Risk Scoring Methods</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-calculator text-primary me-2"></i><strong>Rule-Based Scoring:</strong> Compliance rule evaluation</li>
                                        <li><i class="fas fa-robot text-success me-2"></i><strong>AI Scoring:</strong> Machine learning models</li>
                                        <li><i class="fas fa-chart-bar text-warning me-2"></i><strong>Behavioral Scoring:</strong> Transaction patterns</li>
                                        <li><i class="fas fa-balance-scale text-info me-2"></i><strong>Composite Scoring:</strong> Multi-factor analysis</li>
                                        <li><i class="fas fa-sliders-h text-secondary me-2"></i><strong>Dynamic Scoring:</strong> Real-time updates</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- API Endpoints -->
                            <h5>KYC Review API Endpoints</h5>
                            <table class="table table-striped mb-4">
                                <thead>
                                    <tr>
                                        <th>Endpoint</th>
                                        <th>Method</th>
                                        <th>Description</th>
                                        <th>Response</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>/api/kyc/screen</code></td>
                                        <td><code>POST</code></td>
                                        <td>Run KYC screening</td>
                                        <td>Screening results JSON</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/kyc/risk-score</code></td>
                                        <td><code>POST</code></td>
                                        <td>Calculate risk score</td>
                                        <td>Risk assessment JSON</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/kyc/pep-check</code></td>
                                        <td><code>POST</code></td>
                                        <td>PEP screening</td>
                                        <td>PEP match results</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/kyc/adverse-media</code></td>
                                        <td><code>POST</code></td>
                                        <td>Adverse media search</td>
                                        <td>Media screening results</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Configuration Examples -->
                            <h5>Configuration Examples</h5>
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6>Risk Scoring Configuration</h6>
                                    <div class="code-block">
{
  "risk_model": "composite",
  "scoring_factors": {
    "transaction_volume": 0.3,
    "geographic_risk": 0.25,
    "customer_profile": 0.2,
    "behavioral_patterns": 0.15,
    "external_sources": 0.1
  },
  "thresholds": {
    "low_risk": 0.3,
    "medium_risk": 0.6,
    "high_risk": 0.8
  },
  "update_frequency": "daily"
}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>Screening Profile Setup</h6>
                                    <div class="code-block">
{
  "screening_profile": "comprehensive",
  "sources": [
    "ofac_sdn",
    "eu_sanctions",
    "un_consolidated",
    "ofac_consolidated"
  ],
  "fuzzy_matching": {
    "enabled": true,
    "threshold": 0.85,
    "algorithms": ["metaphone", "levenshtein"]
  },
  "pep_sources": [
    "world_bank_peps",
    "factiva_peps",
    "local_government"
  ],
  "update_frequency": "hourly"
}
                                    </div>
                                </div>
                            </div>

                            <!-- Quick Access -->
                            <div class="row">
                                <div class="col-md-6">
                                    <h5>Quick Access</h5>
                                    <p>Access KYC review features:</p>
                                    <a href="/kyc-review-guides" class="btn btn-primary me-2">Full Guide</a>
                                    <a href="/intelligence-compliance-agent-guide" class="btn btn-outline-primary">Compliance Agent</a>
                                </div>
                                <div class="col-md-6">
                                    <h5>Related Resources</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-external-link-alt text-primary me-2"></i><a href="/kyc-review-guides" class="text-decoration-none">KYC Review Details</a></li>
                                        <li><i class="fas fa-code text-success me-2"></i><a href="/api-reference" class="text-decoration-none">API Reference</a></li>
                                        <li><i class="fas fa-cog text-warning me-2"></i><a href="/troubleshooting-guide" class="text-decoration-none">Troubleshooting</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Decisioning Guide Tab -->
                    <div id="decisioning-guide" class="tab-pane">
                        <div class="feature-card">
                            <div class="feature-header">
                                <h3 class="feature-title">
                                    <i class="fas fa-gavel text-primary me-2"></i>
                                    Decisioning & Reporting
                                </h3>
                                <p class="feature-description">Automated decision workflows with human oversight and comprehensive reporting</p>
                            </div>

                            <!-- Decision Process Overview -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5>Decision Workflow</h5>
                                    <div class="code-block">
Decision & Reporting Process:
├── Automated Decision Making
│   ├── Rule-Based Evaluation
│   ├── AI-Powered Analysis
│   └── Risk-Weighted Scoring
├── Human Oversight
│   ├── Escalation Triggers
│   ├── Manual Review Queue
│   └── Expert Decision Support
├── Decision Execution
│   ├── Approval Processing
│   ├── Rejection Handling
│   └── Conditional Approvals
├── Audit & Reporting
│   ├── Decision Audit Trail
│   ├── Performance Analytics
│   └── Regulatory Reporting
└── Continuous Improvement
    ├── Model Training
    ├── Rule Optimization
    └── Performance Monitoring
                                    </div>
                                </div>
                            </div>

                            <!-- Decision Types -->
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h5>Decision Categories</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check-circle text-success me-2"></i><strong>Auto-Approval:</strong> Low-risk cases</li>
                                        <li><i class="fas fa-clock text-warning me-2"></i><strong>Manual Review:</strong> Medium-risk cases</li>
                                        <li><i class="fas fa-exclamation-triangle text-danger me-2"></i><strong>Escalation:</strong> High-risk cases</li>
                                        <li><i class="fas fa-hand-paper text-info me-2"></i><strong>Conditional:</strong> With additional requirements</li>
                                        <li><i class="fas fa-times-circle text-secondary me-2"></i><strong>Rejection:</strong> Non-compliant cases</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h5>Decision Engines</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-cogs text-primary me-2"></i><strong>Rule Engine:</strong> Deterministic rules</li>
                                        <li><i class="fas fa-brain text-success me-2"></i><strong>AI Engine:</strong> Machine learning models</li>
                                        <li><i class="fas fa-users text-warning me-2"></i><strong>Expert System:</strong> Human-in-the-loop</li>
                                        <li><i class="fas fa-balance-scale text-info me-2"></i><strong>Hybrid Engine:</strong> Combined approach</li>
                                        <li><i class="fas fa-sync text-secondary me-2"></i><strong>Adaptive Engine:</strong> Self-learning</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- API Endpoints -->
                            <h5>Decisioning API Endpoints</h5>
                            <table class="table table-striped mb-4">
                                <thead>
                                    <tr>
                                        <th>Endpoint</th>
                                        <th>Method</th>
                                        <th>Description</th>
                                        <th>Decision Type</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>/api/decisions/evaluate</code></td>
                                        <td><code>POST</code></td>
                                        <td>Evaluate case decision</td>
                                        <td>Auto/Manual</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/decisions/manual-review</code></td>
                                        <td><code>POST</code></td>
                                        <td>Submit for manual review</td>
                                        <td>Manual</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/decisions/approve</code></td>
                                        <td><code>POST</code></td>
                                        <td>Approve case</td>
                                        <td>Approval</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/decisions/reject</code></td>
                                        <td><code>POST</code></td>
                                        <td>Reject case</td>
                                        <td>Rejection</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/decisions/audit</code></td>
                                        <td><code>GET</code></td>
                                        <td>Get decision audit trail</td>
                                        <td>Audit</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Configuration Examples -->
                            <h5>Configuration Examples</h5>
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6>Decision Rules Configuration</h6>
                                    <div class="code-block">
{
  "decision_rules": {
    "auto_approve": {
      "risk_score_max": 0.3,
      "transaction_amount_max": 10000,
      "customer_age_min": 18,
      "required_documents": ["id", "address"]
    },
    "manual_review": {
      "risk_score_min": 0.3,
      "risk_score_max": 0.7,
      "transaction_amount_max": 50000,
      "escalation_triggers": ["pep_match", "high_value"]
    },
    "auto_reject": {
      "risk_score_min": 0.8,
      "sanctions_match": true,
      "adverse_media_score": 0.9
    }
  },
  "review_queues": {
    "high_priority": "under_1_hour",
    "medium_priority": "under_24_hours",
    "low_priority": "under_72_hours"
  }
}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>Workflow Configuration</h6>
                                    <div class="code-block">
{
  "workflows": {
    "standard_kyc": {
      "steps": [
        "document_verification",
        "identity_check",
        "risk_assessment",
        "decision_making",
        "audit_logging"
      ],
      "parallel_processing": true,
      "max_processing_time": 300,
      "fallback_actions": ["manual_review"]
    },
    "enhanced_due_diligence": {
      "steps": [
        "document_verification",
        "enhanced_identity_check",
        "source_of_funds_analysis",
        "beneficial_ownership_check",
        "senior_management_review"
      ],
      "parallel_processing": false,
      "max_processing_time": 7200,
      "approval_required": "compliance_officer"
    }
  },
  "escalation_rules": {
    "risk_threshold": 0.7,
    "amount_threshold": 100000,
    "unusual_patterns": true,
    "jurisdiction_risk": ["high_risk_countries"]
  }
}
                                    </div>
                                </div>
                            </div>

                            <!-- Quick Access -->
                            <div class="row">
                                <div class="col-md-6">
                                    <h5>Quick Access</h5>
                                    <p>Access decisioning features:</p>
                                    <a href="/decisioning-guides" class="btn btn-primary me-2">Full Guide</a>
                                    <a href="/decision-orchestration-agent-guide" class="btn btn-outline-primary">Decision Agent</a>
                                </div>
                                <div class="col-md-6">
                                    <h5>Related Resources</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-external-link-alt text-primary me-2"></i><a href="/decisioning-guides" class="text-decoration-none">Decisioning Details</a></li>
                                        <li><i class="fas fa-code text-success me-2"></i><a href="/api-reference" class="text-decoration-none">API Reference</a></li>
                                        <li><i class="fas fa-chart-line text-warning me-2"></i><a href="/monitoring-metrics-guide" class="text-decoration-none">Performance Metrics</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Intelligence Guide Tab -->
                    <div id="intelligence-guide" class="tab-pane">
                        <div class="feature-card">
                            <div class="feature-header">
                                <h3 class="feature-title">
                                    <i class="fas fa-brain text-primary me-2"></i>
                                    Intelligence & Compliance Agent
                                </h3>
                                <p class="feature-description">Advanced regulatory rule processing and compliance automation</p>
                            </div>

                            <!-- Architecture Overview -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5>System Architecture</h5>
                                    <div class="code-block">
Intelligence & Compliance Components:
├── Rule Compiler
│   ├── JSON-Logic Engine
│   ├── AI-Powered Rule Generation
│   └── Rule Validation
├── Kafka Consumer
│   ├── Real-time Event Processing
│   ├── Message Resilience
│   └── Circuit Breaker Pattern
├── Jurisdiction Handler
│   ├── Multi-jurisdiction Support
│   ├── Rule Precedence Logic
│   └── Conflict Resolution
├── Overlap Resolver
│   ├── NLP-based Analysis
│   ├── Regulatory Overlap Detection
│   └── Resolution Strategies
└── Audit Logger
    ├── Immutable Audit Trail
    ├── Compliance Logging
    └── Event Correlation
                                    </div>
                                </div>
                            </div>

                            <!-- Detailed Feature Breakdown -->
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h5>Rule Compiler</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-code text-primary me-2"></i><strong>JSON-Logic Engine:</strong> Standard rule format</li>
                                        <li><i class="fas fa-robot text-success me-2"></i><strong>AI Generation:</strong> GPT-4 powered rule creation</li>
                                        <li><i class="fas fa-check-circle text-warning me-2"></i><strong>Validation:</strong> Syntax and logic checking</li>
                                        <li><i class="fas fa-sync text-info me-2"></i><strong>Hot Reloading:</strong> Runtime rule updates</li>
                                        <li><i class="fas fa-shield-alt text-secondary me-2"></i><strong>Sandboxing:</strong> Safe rule execution</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h5>Kafka Integration</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-stream text-primary me-2"></i><strong>Event Streaming:</strong> Real-time processing</li>
                                        <li><i class="fas fa-retweet text-success me-2"></i><strong>Resilience:</strong> Circuit breakers</li>
                                        <li><i class="fas fa-envelope text-warning me-2"></i><strong>DLQ Support:</strong> Dead letter queues</li>
                                        <li><i class="fas fa-balance-scale text-info me-2"></i><strong>Load Balancing:</strong> Consumer groups</li>
                                        <li><i class="fas fa-clock text-secondary me-2"></i><strong>Event Replay:</strong> Historical processing</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Jurisdiction Management -->
                            <h5>Jurisdiction & Compliance Framework</h5>
                            <table class="table table-striped mb-4">
                                <thead>
                                    <tr>
                                        <th>Jurisdiction</th>
                                        <th>Supported Rules</th>
                                        <th>Key Requirements</th>
                                        <th>Integration Status</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>EU</strong></td>
                                        <td>GDPR, AMLD5, PSD2</td>
                                        <td>Customer due diligence, PEP screening</td>
                                        <td><span class="badge bg-success">Active</span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>UK</strong></td>
                                        <td>AML Regulations, FCA Rules</td>
                                        <td>Financial crime prevention</td>
                                        <td><span class="badge bg-success">Active</span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>US</strong></td>
                                        <td>BSA, OFAC, FinCEN</td>
                                        <td>Sanctions screening, CTR reporting</td>
                                        <td><span class="badge bg-success">Active</span></td>
                                    </tr>
                                    <tr>
                                        <td><strong>Global</strong></td>
                                        <td>FATF Standards</td>
                                        <td>International AML standards</td>
                                        <td><span class="badge bg-warning">Beta</span></td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- API Endpoints -->
                            <h5>Intelligence & Compliance API Endpoints</h5>
                            <table class="table table-striped mb-4">
                                <thead>
                                    <tr>
                                        <th>Endpoint</th>
                                        <th>Method</th>
                                        <th>Description</th>
                                        <th>Example</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>/api/phase3/rules/compile</code></td>
                                        <td><code>POST</code></td>
                                        <td>Compile compliance rules</td>
                                        <td><code>{"regulation": "AML", "jurisdiction": "EU"}</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/phase3/rules/validate</code></td>
                                        <td><code>POST</code></td>
                                        <td>Validate rule syntax</td>
                                        <td><code>{"rule": {...}}</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/phase3/jurisdiction/{code}</code></td>
                                        <td><code>GET</code></td>
                                        <td>Get jurisdiction rules</td>
                                        <td><code>/api/phase3/jurisdiction/EU</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/phase3/overlap/resolve</code></td>
                                        <td><code>POST</code></td>
                                        <td>Resolve rule conflicts</td>
                                        <td><code>{"rules": [...], "context": {...}}</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/phase3/audit/events</code></td>
                                        <td><code>GET</code></td>
                                        <td>Get audit trail</td>
                                        <td><code>?from=2024-01-01&to=2024-01-31</code></td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Configuration Examples -->
                            <h5>Configuration Examples</h5>
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6>Rule Definition Example</h6>
                                    <div class="code-block">
{
  "rule_id": "aml_transaction_monitoring",
  "name": "AML Transaction Monitoring",
  "jurisdiction": "EU",
  "severity": "high",
  "rule_logic": {
    "condition": "AND",
    "rules": [
      {
        "field": "transaction_amount",
        "operator": "greater_than",
        "value": 10000
      },
      {
        "field": "customer_risk_level",
        "operator": "equals",
        "value": "high"
      }
    ]
  },
  "actions": [
    "flag_for_review",
    "generate_alert",
    "escalate_to_compliance"
  ]
}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>Kafka Consumer Configuration</h6>
                                    <div class="code-block">
kafka_consumer_config = {
    'bootstrap_servers': ['kafka:9092'],
    'group_id': 'intelligence-compliance-group',
    'auto_offset_reset': 'earliest',
    'enable_auto_commit': False,
    'session_timeout_ms': 30000,
    'heartbeat_interval_ms': 3000,
    'max_poll_records': 500,
    'value_deserializer': lambda x: json.loads(x.decode('utf-8'))
}

# Circuit breaker settings
circuit_breaker = {
    'failure_threshold': 5,
    'recovery_timeout': 60,
    'expected_exception': KafkaException
}
                                    </div>
                                </div>
                            </div>

                            <!-- Quick Access -->
                            <div class="row">
                                <div class="col-md-6">
                                    <h5>Quick Access</h5>
                                    <p>Access Intelligence & Compliance features:</p>
                                    <a href="/phase3" class="btn btn-primary me-2">Dashboard</a>
                                    <a href="/phase3-user-guides" class="btn btn-outline-primary">Full Guide</a>
                                </div>
                                <div class="col-md-6">
                                    <h5>Support Resources</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-external-link-alt text-primary me-2"></i><a href="/phase3-components-guide" class="text-decoration-none">Component Details</a></li>
                                        <li><i class="fas fa-code text-success me-2"></i><a href="/api-reference" class="text-decoration-none">API Reference</a></li>
                                        <li><i class="fas fa-question-circle text-warning me-2"></i><a href="/troubleshooting-guide" class="text-decoration-none">Troubleshooting</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Reports Guide Tab -->
                    <div id="reports-guide" class="tab-pane">
                        <div class="feature-card">
                            <div class="feature-header">
                                <h3 class="feature-title">
                                    <i class="fas fa-chart-line text-primary me-2"></i>
                                    Compliance Report Generation
                                </h3>
                                <p class="feature-description">Professional regulatory report generation for FINREP, COREP, and DORA</p>
                            </div>

                            <!-- Report Types Overview -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5>Supported Report Types</h5>
                                    <div class="code-block">
Regulatory Reports:
├── FINREP (Financial Reporting)
│   ├── Balance Sheet Information
│   ├── Income Statement Data
│   ├── Regulatory Capital Requirements
│   └── Risk-weighted Assets
├── COREP (Capital Requirements)
│   ├── Credit Risk Exposures
│   ├── Market Risk Positions
│   ├── Operational Risk Metrics
│   └── Capital Adequacy Ratios
└── DORA (Digital Operational Resilience)
    ├── ICT Risk Assessments
    ├── Incident Reporting
    ├── Business Continuity Plans
    └── Third-party Risk Management
                                    </div>
                                </div>
                            </div>

                            <!-- Detailed Report Specifications -->
                            <div class="row mb-4">
                                <div class="col-md-4">
                                    <h5>FINREP Reports</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-file-invoice-dollar text-primary me-2"></i><strong>FINREP_F01:</strong> Balance sheet</li>
                                        <li><i class="fas fa-chart-bar text-success me-2"></i><strong>FINREP_F02:</strong> Income statement</li>
                                        <li><i class="fas fa-coins text-warning me-2"></i><strong>FINREP_F03:</strong> Regulatory capital</li>
                                        <li><i class="fas fa-weight text-info me-2"></i><strong>FINREP_F04:</strong> Risk-weighted assets</li>
                                        <li><i class="fas fa-percentage text-secondary me-2"></i><strong>FINREP_F05:</strong> Leverage ratio</li>
                                    </ul>
                                </div>
                                <div class="col-md-4">
                                    <h5>COREP Reports</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-credit-card text-primary me-2"></i><strong>COREP_C01:</strong> Credit risk</li>
                                        <li><i class="fas fa-chart-line text-success me-2"></i><strong>COREP_C02:</strong> Market risk</li>
                                        <li><i class="fas fa-cogs text-warning me-2"></i><strong>COREP_C03:</strong> Operational risk</li>
                                        <li><i class="fas fa-shield-alt text-info me-2"></i><strong>COREP_C04:</strong> Securitization</li>
                                        <li><i class="fas fa-balance-scale text-secondary me-2"></i><strong>COREP_C05:</strong> Large exposures</li>
                                    </ul>
                                </div>
                                <div class="col-md-4">
                                    <h5>DORA Reports</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-server text-primary me-2"></i><strong>DORA_ICT01:</strong> ICT assets</li>
                                        <li><i class="fas fa-exclamation-triangle text-success me-2"></i><strong>DORA_INC01:</strong> Incidents</li>
                                        <li><i class="fas fa-sync text-warning me-2"></i><strong>DORA_BC01:</strong> Business continuity</li>
                                        <li><i class="fas fa-users text-info me-2"></i><strong>DORA_TP01:</strong> Third parties</li>
                                        <li><i class="fas fa-key text-secondary me-2"></i><strong>DORA_SEC01:</strong> Security measures</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Output Formats -->
                            <h5>Output Formats & Standards</h5>
                            <table class="table table-striped mb-4">
                                <thead>
                                    <tr>
                                        <th>Report Type</th>
                                        <th>Primary Format</th>
                                        <th>Alternative Formats</th>
                                        <th>Validation</th>
                                        <th>Submission</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>FINREP</strong></td>
                                        <td>XBRL 2.1</td>
                                        <td>CSV, JSON, XML</td>
                                        <td>EBA Taxonomy</td>
                                        <td>Automated</td>
                                    </tr>
                                    <tr>
                                        <td><strong>COREP</strong></td>
                                        <td>XBRL 2.1</td>
                                        <td>CSV, JSON, XML</td>
                                        <td>EBA CRR Taxonomy</td>
                                        <td>Automated</td>
                                    </tr>
                                    <tr>
                                        <td><strong>DORA</strong></td>
                                        <td>JSON</td>
                                        <td>XML, CSV</td>
                                        <td>DORA Schema</td>
                                        <td>Manual/Automated</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- API Endpoints -->
                            <h5>Report Generation APIs</h5>
                            <table class="table table-striped mb-4">
                                <thead>
                                    <tr>
                                        <th>Endpoint</th>
                                        <th>Method</th>
                                        <th>Description</th>
                                        <th>Parameters</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>/api/reports/finrep/generate</code></td>
                                        <td><code>POST</code></td>
                                        <td>Generate FINREP report</td>
                                        <td><code>{"period": "2024-Q1", "format": "XBRL"}</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/reports/corep/generate</code></td>
                                        <td><code>POST</code></td>
                                        <td>Generate COREP report</td>
                                        <td><code>{"template": "C01", "jurisdiction": "EU"}</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/reports/dora/generate</code></td>
                                        <td><code>POST</code></td>
                                        <td>Generate DORA report</td>
                                        <td><code>{"report_type": "ICT01", "period": "2024"}</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/reports/{id}/status</code></td>
                                        <td><code>GET</code></td>
                                        <td>Get report status</td>
                                        <td>Report ID in URL</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/reports/{id}/download</code></td>
                                        <td><code>GET</code></td>
                                        <td>Download report</td>
                                        <td><code>?format=XBRL</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/reports/validate</code></td>
                                        <td><code>POST</code></td>
                                        <td>Validate report data</td>
                                        <td>Report data object</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/reports/submit</code></td>
                                        <td><code>POST</code></td>
                                        <td>Submit to regulator</td>
                                        <td><code>{"report_id": "123", "authority": "EBA"}</code></td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Configuration Examples -->
                            <h5>Report Templates & Configuration</h5>
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6>FINREP Template Configuration</h6>
                                    <div class="code-block">
{
  "template_id": "FINREP_F01",
  "name": "Balance Sheet Template",
  "version": "2.1",
  "taxonomy": "eba-finrep",
  "frequency": "quarterly",
  "deadline": "30 days after quarter end",
  "required_fields": [
    "total_assets",
    "total_liabilities",
    "shareholders_equity",
    "regulatory_capital"
  ],
  "validation_rules": [
    "balance_check",
    "taxonomy_compliance",
    "data_quality_checks"
  ]
}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>COREP Risk Weight Calculation</h6>
                                    <div class="code-block">
# Risk Weight Categories
risk_weights = {
    'sovereign': 0.0,      # 0% for EU sovereign debt
    'banks': 0.20,         # 20% for EU banks
    'corporates': 1.0,     # 100% for large corporates
    'retail': 0.75,        # 75% for retail exposures
    'equities': 1.0,       # 100% for equities
    'other': 1.0           # 100% default
}

# Capital Requirements
capital_requirements = {
    'cet1_ratio': 0.045,   # 4.5% CET1 requirement
    'tier1_ratio': 0.06,   # 6% Tier 1 requirement
    'total_ratio': 0.08    # 8% Total capital requirement
}
                                    </div>
                                </div>
                            </div>

                            <!-- Data Sources & Integration -->
                            <h5>Data Sources & Integration</h5>
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6>Internal Data Sources</h6>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-database text-primary me-2"></i><strong>Core Banking:</strong> Transaction data</li>
                                        <li><i class="fas fa-chart-pie text-success me-2"></i><strong>Risk Engine:</strong> Risk calculations</li>
                                        <li><i class="fas fa-users text-warning me-2"></i><strong>Customer DB:</strong> Customer information</li>
                                        <li><i class="fas fa-file-invoice text-info me-2"></i><strong>GL System:</strong> Financial statements</li>
                                        <li><i class="fas fa-shield-alt text-secondary me-2"></i><strong>Compliance DB:</strong> Regulatory data</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6>External Integrations</h6>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-globe text-primary me-2"></i><strong>EBA Portal:</strong> XBRL submission</li>
                                        <li><i class="fas fa-university text-success me-2"></i><strong>Central Bank:</strong> Reporting platform</li>
                                        <li><i class="fas fa-gavel text-warning me-2"></i><strong>Regulatory APIs:</strong> Data validation</li>
                                        <li><i class="fas fa-cloud text-info me-2"></i><strong>Cloud Services:</strong> Storage & processing</li>
                                        <li><i class="fas fa-lock text-secondary me-2"></i><strong>Secure Channels:</strong> Encrypted transmission</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Quick Access -->
                            <div class="row">
                                <div class="col-md-6">
                                    <h5>Quick Access</h5>
                                    <p>Access Compliance Reports features:</p>
                                    <a href="/phase4" class="btn btn-primary me-2">Dashboard</a>
                                    <a href="/phase4-user-guides" class="btn btn-outline-primary">Full Guide</a>
                                </div>
                                <div class="col-md-6">
                                    <h5>Support Resources</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-external-link-alt text-primary me-2"></i><a href="/phase4-components-guide" class="text-decoration-none">Report Components</a></li>
                                        <li><i class="fas fa-code text-success me-2"></i><a href="/api-reference" class="text-decoration-none">API Reference</a></li>
                                        <li><i class="fas fa-download text-warning me-2"></i><a href="/deployment-configs-guide" class="text-decoration-none">Templates</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Production Guide Tab -->
                    <div id="production-guide" class="tab-pane">
                        <div class="feature-card">
                            <div class="feature-header">
                                <h3 class="feature-title">
                                    <i class="fas fa-rocket text-primary me-2"></i>
                                    Production Readiness
                                </h3>
                                <p class="feature-description">Complete production deployment, monitoring, and operational guides</p>
                            </div>

                            <!-- Production Architecture -->
                            <div class="row mb-4">
                                <div class="col-12">
                                    <h5>Production Architecture</h5>
                                    <div class="code-block">
Production Stack:
├── Application Layer
│   ├── Web Interface (FastAPI)
│   ├── Agent Services (Microservices)
│   ├── API Gateway (Nginx)
│   └── Load Balancer (HAProxy)
├── Data Layer
│   ├── PostgreSQL (Primary DB)
│   ├── MongoDB (Document Store)
│   ├── Redis (Cache & Session)
│   └── Kafka (Message Queue)
├── Infrastructure Layer
│   ├── Kubernetes Orchestration
│   ├── Docker Containers
│   ├── Monitoring Stack
│   └── Security Controls
└── External Services
    ├── Regulatory APIs
    ├── Cloud Storage
    ├── Backup Systems
    └── Alert Management
                                    </div>
                                </div>
                            </div>

                            <!-- Deployment Strategies -->
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h5>Deployment Options</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-server text-primary me-2"></i><strong>Docker Compose:</strong> Development & small production</li>
                                        <li><i class="fas fa-dharmachakra text-success me-2"></i><strong>Kubernetes:</strong> Enterprise production</li>
                                        <li><i class="fas fa-cloud text-warning me-2"></i><strong>Cloud Native:</strong> AWS EKS, Azure AKS, GKE</li>
                                        <li><i class="fas fa-network-wired text-info me-2"></i><strong>Hybrid:</strong> On-premises + cloud</li>
                                        <li><i class="fas fa-building text-secondary me-2"></i><strong>Multi-region:</strong> Global deployment</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h5>Infrastructure Components</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-chart-line text-primary me-2"></i><strong>Prometheus:</strong> Metrics collection</li>
                                        <li><i class="fas fa-chart-bar text-success me-2"></i><strong>Grafana:</strong> Dashboard visualization</li>
                                        <li><i class="fas fa-bell text-warning me-2"></i><strong>AlertManager:</strong> Alert routing</li>
                                        <li><i class="fas fa-shield-alt text-info me-2"></i><strong>Security:</strong> TLS, RBAC, secrets</li>
                                        <li><i class="fas fa-hdd text-secondary me-2"></i><strong>Storage:</strong> Persistent volumes</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- Monitoring & Observability -->
                            <h5>Monitoring & Observability</h5>
                            <table class="table table-striped mb-4">
                                <thead>
                                    <tr>
                                        <th>Component</th>
                                        <th>Metrics</th>
                                        <th>Alerts</th>
                                        <th>Dashboards</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Application</strong></td>
                                        <td>Response time, throughput, error rate</td>
                                        <td>5xx errors, latency spikes</td>
                                        <td>Service health, performance</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Database</strong></td>
                                        <td>Connection pools, query performance</td>
                                        <td>Connection failures, slow queries</td>
                                        <td>DB metrics, query analysis</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Kafka</strong></td>
                                        <td>Message throughput, consumer lag</td>
                                        <td>Broker failures, high lag</td>
                                        <td>Message flow, consumer health</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Infrastructure</strong></td>
                                        <td>CPU, memory, disk, network</td>
                                        <td>Resource exhaustion, failures</td>
                                        <td>System resources, capacity</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Security Configuration -->
                            <h5>Security & Compliance</h5>
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6>Authentication & Authorization</h6>
                                    <div class="code-block">
# JWT Configuration
JWT_SECRET_KEY="your-256-bit-secret"
JWT_ALGORITHM="HS256"
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# RBAC Configuration
roles = {
    'admin': ['read', 'write', 'delete', 'admin'],
    'analyst': ['read', 'write'],
    'viewer': ['read']
}

# API Key Management
api_keys = {
    'service_account': 'encrypted-key',
    'external_integration': 'scoped-key'
}
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>Network Security</h6>
                                    <div class="code-block">
# TLS Configuration
ssl_protocols: "TLSv1.2 TLSv1.3"
ssl_ciphers: "HIGH:!aNULL:!MD5"
ssl_prefer_server_ciphers: "on"

# Firewall Rules
allow_ports: [80, 443, 5432, 6379, 9092]
internal_network: "10.0.0.0/8"
external_access: "restricted"

# Secrets Management
vault_config = {
    'address': 'https://vault.example.com',
    'token': 'vault-token',
    'secrets_path': 'secret/complianceai'
}
                                    </div>
                                </div>
                            </div>

                            <!-- Backup & Recovery -->
                            <h5>Backup & Recovery</h5>
                            <table class="table table-striped mb-4">
                                <thead>
                                    <tr>
                                        <th>Data Type</th>
                                        <th>Backup Method</th>
                                        <th>Frequency</th>
                                        <th>Retention</th>
                                        <th>Recovery Time</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><strong>Database</strong></td>
                                        <td>pg_dump + WAL</td>
                                        <td>Daily</td>
                                        <td>30 days</td>
                                        <td>&lt; 1 hour</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Documents</strong></td>
                                        <td>MongoDB dump</td>
                                        <td>Daily</td>
                                        <td>90 days</td>
                                        <td>&lt; 30 min</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Configuration</strong></td>
                                        <td>Git + ConfigMap</td>
                                        <td>Real-time</td>
                                        <td>Unlimited</td>
                                        <td>&lt; 5 min</td>
                                    </tr>
                                    <tr>
                                        <td><strong>Logs</strong></td>
                                        <td>ELK Stack</td>
                                        <td>Continuous</td>
                                        <td>1 year</td>
                                        <td>&lt; 15 min</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Performance Optimization -->
                            <h5>Performance Optimization</h5>
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6>Application Optimization</h6>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-tachometer-alt text-primary me-2"></i><strong>Caching:</strong> Redis for session & data</li>
                                        <li><i class="fas fa-compress text-success me-2"></i><strong>Compression:</strong> Gzip for responses</li>
                                        <li><i class="fas fa-stream text-warning me-2"></i><strong>Async Processing:</strong> Non-blocking operations</li>
                                        <li><i class="fas fa-code-branch text-info me-2"></i><strong>Connection Pooling:</strong> Database & external APIs</li>
                                        <li><i class="fas fa-memory text-secondary me-2"></i><strong>Memory Management:</strong> Garbage collection tuning</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6>Infrastructure Scaling</h6>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-server text-primary me-2"></i><strong>Horizontal Scaling:</strong> Auto-scaling groups</li>
                                        <li><i class="fas fa-balance-scale text-success me-2"></i><strong>Load Balancing:</strong> Round-robin distribution</li>
                                        <li><i class="fas fa-database text-warning me-2"></i><strong>Database Sharding:</strong> Data partitioning</li>
                                        <li><i class="fas fa-hdd text-info me-2"></i><strong>Storage Scaling:</strong> Object storage</li>
                                        <li><i class="fas fa-globe text-secondary me-2"></i><strong>CDN:</strong> Static asset delivery</li>
                                    </ul>
                                </div>
                            </div>

                            <!-- API Endpoints for Production -->
                            <h5>Production API Endpoints</h5>
                            <table class="table table-striped mb-4">
                                <thead>
                                    <tr>
                                        <th>Endpoint</th>
                                        <th>Method</th>
                                        <th>Description</th>
                                        <th>Rate Limit</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>/health</code></td>
                                        <td><code>GET</code></td>
                                        <td>Health check endpoint</td>
                                        <td>1000/min</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/v1/status</code></td>
                                        <td><code>GET</code></td>
                                        <td>System status</td>
                                        <td>500/min</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/dashboard/metrics</code></td>
                                        <td><code>GET</code></td>
                                        <td>Dashboard metrics</td>
                                        <td>100/min</td>
                                    </tr>
                                    <tr>
                                        <td><code>/metrics</code></td>
                                        <td><code>GET</code></td>
                                        <td>Prometheus metrics</td>
                                        <td>Unlimited</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/kyc/process</code></td>
                                        <td><code>POST</code></td>
                                        <td>Start KYC processing</td>
                                        <td>50/min</td>
                                    </tr>
                                    <tr>
                                        <td><code>/api/reports/generate</code></td>
                                        <td><code>POST</code></td>
                                        <td>Generate reports</td>
                                        <td>20/min</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Configuration Examples -->
                            <h5>Production Configuration</h5>
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h6>Docker Compose Production</h6>
                                    <div class="code-block">
version: '3.8'
services:
  web:
    image: complianceai/web:latest
    environment:
      - ENVIRONMENT=production
      - REQUIRE_AUTH=true
      - LOG_LEVEL=INFO
    deploy:
      replicas: 3
      resources:
        limits:
          cpus: '1.0'
          memory: 1G
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost/health"]
      interval: 30s
      timeout: 10s
      retries: 3
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>Kubernetes Deployment</h6>
                                    <div class="code-block">
apiVersion: apps/v1
kind: Deployment
metadata:
  name: complianceai-web
spec:
  replicas: 3
  selector:
    matchLabels:
      app: complianceai-web
  template:
    metadata:
      labels:
        app: complianceai-web
    spec:
      containers:
      - name: web
        image: complianceai/web:latest
        ports:
        - containerPort: 8001
        resources:
          limits:
            cpu: 1000m
            memory: 1Gi
          requests:
            cpu: 500m
            memory: 512Mi
                                    </div>
                                </div>
                            </div>

                            <!-- Quick Access -->
                            <div class="row">
                                <div class="col-md-6">
                                    <h5>Quick Access</h5>
                                    <p>Access Production Readiness features:</p>
                                    <a href="/phase6" class="btn btn-primary me-2">Dashboard</a>
                                    <a href="/phase6-user-guides" class="btn btn-outline-primary">Full Guide</a>
                                </div>
                                <div class="col-md-6">
                                    <h5>Support Resources</h5>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-external-link-alt text-primary me-2"></i><a href="/phase6-components-guide" class="text-decoration-none">System Components</a></li>
                                        <li><i class="fas fa-cog text-success me-2"></i><a href="/deployment-configs-guide" class="text-decoration-none">Deployment Guide</a></li>
                                        <li><i class="fas fa-chart-line text-warning me-2"></i><a href="/monitoring-metrics-guide" class="text-decoration-none">Monitoring Setup</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- API Reference Tab -->
                    <div id="api-reference" class="tab-pane">
                        <div class="feature-card">
                            <div class="feature-header">
                                <h3 class="feature-title">
                                    <i class="fas fa-code-branch text-primary me-2"></i>
                                    Complete API Reference
                                </h3>
                                <p class="feature-description">Comprehensive REST API documentation with examples, authentication, and integration guides</p>
                            </div>

                            <!-- API Overview -->
                            <div class="row mb-4">
                                <div class="col-md-6">
                                    <h5>Base Configuration</h5>
                                    <div class="code-block">
# Development Environment
BASE_URL=http://localhost:8001

# Production Environment
BASE_URL=https://api.complianceai.com

# Authentication Header
Authorization: Bearer your-jwt-token
Content-Type: application/json
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h5>Response Format</h5>
                                    <div class="code-block">
# Success Response
{
  "status": "success",
  "data": { ... },
  "timestamp": "2024-01-01T00:00:00Z"
}

# Error Response
{
  "status": "error",
  "message": "Error description",
  "code": "ERROR_CODE",
  "timestamp": "2024-01-01T00:00:00Z"
}
                                    </div>
                                </div>
                            </div>

                            <!-- Core API Endpoints -->
                            <h5 class="mt-4">Core System Endpoints</h5>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Method</th>
                                        <th>Endpoint</th>
                                        <th>Description</th>
                                        <th>Example</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/health</code></td>
                                        <td>System health check</td>
                                        <td><code>curl http://localhost:8001/health</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/v1/status</code></td>
                                        <td>API status information</td>
                                        <td><code>curl http://localhost:8001/api/v1/status</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/dashboard/metrics</code></td>
                                        <td>Dashboard performance metrics</td>
                                        <td><code>curl http://localhost:8001/api/dashboard/metrics</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/agents/health</code></td>
                                        <td>All agents health status</td>
                                        <td><code>curl http://localhost:8001/api/agents/health</code></td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- KYC Processing APIs -->
                            <h5 class="mt-4">KYC Processing Endpoints</h5>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Method</th>
                                        <th>Endpoint</th>
                                        <th>Description</th>
                                        <th>Request Body</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>POST</code></td>
                                        <td><code>/api/kyc/process</code></td>
                                        <td>Start KYC processing</td>
                                        <td>
                                            <div class="code-block">
{
  "customer_id": "CUST001",
  "jurisdiction": "EU",
  "documents": ["passport.jpg", "address.pdf"],
  "priority": "normal"
}
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/kyc/{case_id}/status</code></td>
                                        <td>Get case processing status</td>
                                        <td>N/A</td>
                                    </tr>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/kyc/cases</code></td>
                                        <td>List all KYC cases</td>
                                        <td>N/A</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Compliance Rule APIs -->
                            <h5 class="mt-4">Compliance Rule Management</h5>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Method</th>
                                        <th>Endpoint</th>
                                        <th>Description</th>
                                        <th>Request Body</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/compliance/rules</code></td>
                                        <td>List all compliance rules</td>
                                        <td>N/A</td>
                                    </tr>
                                    <tr>
                                        <td><code>POST</code></td>
                                        <td><code>/api/compliance/rules</code></td>
                                        <td>Create new compliance rule</td>
                                        <td>
                                            <div class="code-block">
{
  "name": "Custom Risk Rule",
  "jurisdiction": "EU",
  "rule_logic": {
    "condition": "AND",
    "rules": [
      {
        "field": "transaction_amount",
        "operator": "greater_than",
        "value": 10000
      }
    ]
  },
  "severity": "medium"
}
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>POST</code></td>
                                        <td><code>/api/compliance/rules/validate</code></td>
                                        <td>Validate rule syntax</td>
                                        <td>Rule JSON object</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Report Generation APIs -->
                            <h5 class="mt-4">Report Generation Endpoints</h5>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Method</th>
                                        <th>Endpoint</th>
                                        <th>Description</th>
                                        <th>Report Types</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>POST</code></td>
                                        <td><code>/api/reports/finrep/generate</code></td>
                                        <td>Generate FINREP report</td>
                                        <td>XBRL, CSV, JSON</td>
                                    </tr>
                                    <tr>
                                        <td><code>POST</code></td>
                                        <td><code>/api/reports/corep/generate</code></td>
                                        <td>Generate COREP report</td>
                                        <td>XBRL, CSV, JSON</td>
                                    </tr>
                                    <tr>
                                        <td><code>POST</code></td>
                                        <td><code>/api/reports/dora/generate</code></td>
                                        <td>Generate DORA report</td>
                                        <td>JSON, XML</td>
                                    </tr>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/reports/{report_id}/status</code></td>
                                        <td>Get report generation status</td>
                                        <td>N/A</td>
                                    </tr>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/reports/{report_id}/download</code></td>
                                        <td>Download completed report</td>
                                        <td>Original format</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Regulatory Intelligence APIs -->
                            <h5 class="mt-4">Regulatory Intelligence APIs</h5>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Method</th>
                                        <th>Endpoint</th>
                                        <th>Description</th>
                                        <th>Parameters</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/regulatory/feeds</code></td>
                                        <td>Get regulatory feed sources</td>
                                        <td>N/A</td>
                                    </tr>
                                    <tr>
                                        <td><code>POST</code></td>
                                        <td><code>/api/regulatory/feeds/scan</code></td>
                                        <td>Trigger feed scanning</td>
                                        <td><code>{"force": true}</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/regulatory/documents</code></td>
                                        <td>List regulatory documents</td>
                                        <td><code>?status=processed</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>POST</code></td>
                                        <td><code>/api/regulatory/documents/{id}/process</code></td>
                                        <td>Process specific document</td>
                                        <td><code>{"priority": "high"}</code></td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Monitoring and Metrics APIs -->
                            <h5 class="mt-4">Monitoring & Metrics Endpoints</h5>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Method</th>
                                        <th>Endpoint</th>
                                        <th>Description</th>
                                        <th>Format</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/metrics</code></td>
                                        <td>Prometheus metrics</td>
                                        <td>Prometheus format</td>
                                    </tr>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/monitoring/health</code></td>
                                        <td>Detailed health status</td>
                                        <td>JSON</td>
                                    </tr>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/monitoring/performance</code></td>
                                        <td>Performance metrics</td>
                                        <td>JSON</td>
                                    </tr>
                                    <tr>
                                        <td><code>POST</code></td>
                                        <td><code>/api/monitoring/alerts/test</code></td>
                                        <td>Test alerting system</td>
                                        <td>N/A</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Authentication APIs -->
                            <h5 class="mt-4">Authentication & User Management</h5>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>Method</th>
                                        <th>Endpoint</th>
                                        <th>Description</th>
                                        <th>Request Body</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td><code>POST</code></td>
                                        <td><code>/api/auth/login</code></td>
                                        <td>User authentication</td>
                                        <td>
                                            <div class="code-block">
{
  "username": "admin",
  "password": "password"
}
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td><code>POST</code></td>
                                        <td><code>/api/auth/refresh</code></td>
                                        <td>Refresh JWT token</td>
                                        <td><code>{"refresh_token": "token"}</code></td>
                                    </tr>
                                    <tr>
                                        <td><code>GET</code></td>
                                        <td><code>/api/users</code></td>
                                        <td>List users</td>
                                        <td>N/A</td>
                                    </tr>
                                    <tr>
                                        <td><code>POST</code></td>
                                        <td><code>/api/users</code></td>
                                        <td>Create new user</td>
                                        <td>User object with credentials</td>
                                    </tr>
                                </tbody>
                            </table>

                            <!-- Error Codes and Handling -->
                            <h5 class="mt-4">Error Handling</h5>
                            <div class="alert alert-warning">
                                <h6>Common HTTP Status Codes:</h6>
                                <ul class="mb-0">
                                    <li><strong>200 OK:</strong> Request successful</li>
                                    <li><strong>201 Created:</strong> Resource created successfully</li>
                                    <li><strong>400 Bad Request:</strong> Invalid request parameters</li>
                                    <li><strong>401 Unauthorized:</strong> Authentication required</li>
                                    <li><strong>403 Forbidden:</strong> Insufficient permissions</li>
                                    <li><strong>404 Not Found:</strong> Resource not found</li>
                                    <li><strong>422 Unprocessable Entity:</strong> Validation error</li>
                                    <li><strong>500 Internal Server Error:</strong> Server error</li>
                                </ul>
                            </div>

                            <!-- SDK and Integration Examples -->
                            <h5 class="mt-4">Integration Examples</h5>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>Python SDK Example</h6>
                                    <div class="code-block">
import requests

class ComplianceAI:
    def __init__(self, base_url, api_key):
        self.base_url = base_url
        self.headers = {
            'Authorization': f'Bearer {api_key}',
            'Content-Type': 'application/json'
        }

    def health_check(self):
        return requests.get(f'{self.base_url}/health')

    def start_kyc(self, customer_data):
        return requests.post(
            f'{self.base_url}/api/kyc/process',
            json=customer_data,
            headers=self.headers
        )
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <h6>JavaScript/Node.js Example</h6>
                                    <div class="code-block">
const ComplianceAI = require('complianceai-sdk');

const client = new ComplianceAI({
    baseURL: 'http://localhost:8001',
    apiKey: 'your-api-key'
});

// Health check
client.health()
    .then(response => console.log(response.data));

// Start KYC process
client.startKYC({
    customer_id: 'CUST001',
    jurisdiction: 'EU',
    documents: ['passport.jpg']
})
.then(response => console.log(response.data));
                                    </div>
                                </div>
                            </div>

                            <!-- Rate Limiting and Best Practices -->
                            <div class="alert alert-info mt-4">
                                <h6><i class="fas fa-info-circle me-2"></i>API Best Practices:</h6>
                                <ul class="mb-0">
                                    <li>Implement exponential backoff for retries</li>
                                    <li>Cache responses when possible</li>
                                    <li>Use appropriate rate limiting</li>
                                    <li>Handle errors gracefully</li>
                                    <li>Monitor API usage and performance</li>
                                    <li>Keep API keys secure and rotate regularly</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Professional tabbed documentation JavaScript

        // Tab switching functionality
        function switchTab(tabName) {
            // Remove active class from all tabs and panes
            document.querySelectorAll('.tab-nav-link').forEach(function(link) { link.classList.remove('active'); });
            document.querySelectorAll('.tab-pane').forEach(function(pane) { pane.classList.remove('active'); });

            // Add active class to selected tab and pane (use data-tab attribute)
            var link = document.querySelector('.tab-nav-link[data-tab="' + tabName + '"]');
            if (link) { link.classList.add('active'); }
            var pane = document.getElementById(tabName);
            if (pane) { pane.classList.add('active'); }
        }

        // Initialize documentation
        document.addEventListener("DOMContentLoaded", function() {
            console.log("Main documentation loaded");
        });
    </script>
    <script>
        // Set active nav link based on current pathname
        document.addEventListener('DOMContentLoaded', function() {
            try {
                const links = document.querySelectorAll('.nav-link');
                const path = window.location.pathname.replace(/\/$/, '');
                links.forEach(a => {
                    const href = a.getAttribute('href') || '/';
                    const normalized = href.replace(/\/$/, '') || '/';
                    if (path === normalized || (path.startsWith(normalized) && normalized !== '/')) {
                        a.classList.add('active');
                    } else {
                        a.classList.remove('active');
                    }
                });
            } catch (e) { console.error(e); }
        });
    </script>
</body>
</html>
