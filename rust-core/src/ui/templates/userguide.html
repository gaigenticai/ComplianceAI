<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/static/style.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-shield-alt me-2"></i>
                KYC Automation Platform
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/">
                    <i class="fas fa-home me-1"></i>
                    Home
                </a>
                <a class="nav-link" href="/health">
                    <i class="fas fa-heartbeat me-1"></i>
                    System Health
                </a>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container mt-4">
        <!-- Header -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card border-0 shadow-sm">
                    <div class="card-body text-center py-4">
                        <h1 class="display-5 fw-bold text-primary mb-2">User Guide</h1>
                        <p class="lead text-muted">Complete guide to using the KYC Automation Platform</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Table of Contents -->
        <div class="row mb-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0">
                            <i class="fas fa-list me-2"></i>
                            Table of Contents
                        </h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li><a href="#overview" class="text-decoration-none">1. Platform Overview</a></li>
                                    <li><a href="#getting-started" class="text-decoration-none">2. Getting Started</a></li>
                                    <li><a href="#document-requirements" class="text-decoration-none">3. Document Requirements</a></li>
                                    <li><a href="#submission-process" class="text-decoration-none">4. Submission Process</a></li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-unstyled">
                                    <li><a href="#understanding-results" class="text-decoration-none">5. Understanding Results</a></li>
                                    <li><a href="#feedback-system" class="text-decoration-none">6. Feedback System</a></li>
                                    <li><a href="#troubleshooting" class="text-decoration-none">7. Troubleshooting</a></li>
                                    <li><a href="#compliance" class="text-decoration-none">8. Compliance & Security</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Platform Overview -->
        <div class="row mb-4" id="overview">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <h4 class="mb-0">
                            <i class="fas fa-info-circle me-2"></i>
                            1. Platform Overview
                        </h4>
                    </div>
                    <div class="card-body">
                        <p class="lead">The KYC Automation Platform is an advanced AI-powered system that streamlines customer verification processes for financial institutions.</p>
                        
                        <h6 class="text-primary mt-4">Key Features</h6>
                        <div class="row">
                            <div class="col-md-6">
                                <ul>
                                    <li><strong>Document OCR:</strong> Automated text extraction from ID documents</li>
                                    <li><strong>Biometric Verification:</strong> Face matching between selfie and ID photo</li>
                                    <li><strong>Watchlist Screening:</strong> AML and sanctions compliance checks</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul>
                                    <li><strong>Data Integration:</strong> External data source verification</li>
                                    <li><strong>Risk Assessment:</strong> Automated risk scoring and recommendations</li>
                                    <li><strong>Quality Assurance:</strong> Multi-layer validation and human oversight</li>
                                </ul>
                            </div>
                        </div>

                        <div class="alert alert-success mt-3">
                            <i class="fas fa-clock me-2"></i>
                            <strong>Processing Time:</strong> Typical KYC verification completes in 2-5 minutes, compared to 30+ minutes for manual processing.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Getting Started -->
        <div class="row mb-4" id="getting-started">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0">
                            <i class="fas fa-play me-2"></i>
                            2. Getting Started
                        </h4>
                    </div>
                    <div class="card-body">
                        <h6 class="text-primary">Prerequisites</h6>
                        <ul>
                            <li>Valid government-issued ID document (passport, driver's license, national ID)</li>
                            <li>Clear selfie photo</li>
                            <li>Stable internet connection</li>
                            <li>Modern web browser (Chrome, Firefox, Safari, Edge)</li>
                        </ul>

                        <h6 class="text-primary mt-4">Quick Start Steps</h6>
                        <div class="row">
                            <div class="col-md-4 mb-3">
                                <div class="text-center">
                                    <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" style="width: 50px; height: 50px;">
                                        1
                                    </div>
                                    <h6>Prepare Documents</h6>
                                    <p class="small text-muted">Gather your ID document and take a clear selfie</p>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="text-center">
                                    <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" style="width: 50px; height: 50px;">
                                        2
                                    </div>
                                    <h6>Submit Request</h6>
                                    <p class="small text-muted">Upload documents and fill out the form</p>
                                </div>
                            </div>
                            <div class="col-md-4 mb-3">
                                <div class="text-center">
                                    <div class="step-number bg-primary text-white rounded-circle d-inline-flex align-items-center justify-content-center mb-2" style="width: 50px; height: 50px;">
                                        3
                                    </div>
                                    <h6>Review Results</h6>
                                    <p class="small text-muted">Get comprehensive verification results</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Document Requirements -->
        <div class="row mb-4" id="document-requirements">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-warning text-dark">
                        <h4 class="mb-0">
                            <i class="fas fa-file-alt me-2"></i>
                            3. Document Requirements
                        </h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h6 class="text-primary">ID Document Requirements</h6>
                                <div class="alert alert-info">
                                    <strong>Accepted Documents:</strong>
                                    <ul class="mb-0 mt-2">
                                        <li>Passport</li>
                                        <li>Driver's License</li>
                                        <li>National ID Card</li>
                                        <li>State ID Card</li>
                                    </ul>
                                </div>
                                
                                <h6 class="text-success mt-3">Quality Guidelines</h6>
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item">
                                        <i class="fas fa-check text-success me-2"></i>
                                        High resolution (minimum 300 DPI)
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-check text-success me-2"></i>
                                        All text clearly readable
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-check text-success me-2"></i>
                                        No glare or shadows
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-check text-success me-2"></i>
                                        Document fully visible in frame
                                    </li>
                                </ul>
                            </div>
                            
                            <div class="col-md-6">
                                <h6 class="text-primary">Selfie Requirements</h6>
                                <div class="alert alert-info">
                                    <strong>Photo Guidelines:</strong>
                                    <ul class="mb-0 mt-2">
                                        <li>Face clearly visible</li>
                                        <li>Good lighting</li>
                                        <li>Neutral expression</li>
                                        <li>No sunglasses or hats</li>
                                    </ul>
                                </div>
                                
                                <h6 class="text-danger mt-3">Common Issues to Avoid</h6>
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item">
                                        <i class="fas fa-times text-danger me-2"></i>
                                        Blurry or low-quality images
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-times text-danger me-2"></i>
                                        Partial document visibility
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-times text-danger me-2"></i>
                                        Expired documents
                                    </li>
                                    <li class="list-group-item">
                                        <i class="fas fa-times text-danger me-2"></i>
                                        Screenshots or photocopies
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Submission Process -->
        <div class="row mb-4" id="submission-process">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0">
                            <i class="fas fa-upload me-2"></i>
                            4. Submission Process
                        </h4>
                    </div>
                    <div class="card-body">
                        <h6 class="text-primary">Step-by-Step Guide</h6>
                        
                        <div class="accordion" id="submissionAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#step1">
                                        Step 1: Customer Information
                                    </button>
                                </h2>
                                <div id="step1" class="accordion-collapse collapse show">
                                    <div class="accordion-body">
                                        <p>Fill in your contact information:</p>
                                        <ul>
                                            <li><strong>Email:</strong> Valid email address for notifications</li>
                                            <li><strong>Phone:</strong> Contact number (optional but recommended)</li>
                                        </ul>
                                        <div class="alert alert-info">
                                            <i class="fas fa-info-circle me-2"></i>
                                            This information is used for communication and audit purposes only.
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step2">
                                        Step 2: Document Upload
                                    </button>
                                </h2>
                                <div id="step2" class="accordion-collapse collapse">
                                    <div class="accordion-body">
                                        <p>Upload your documents in the following order:</p>
                                        <ol>
                                            <li><strong>ID Document:</strong> Primary identification document</li>
                                            <li><strong>Selfie Photo:</strong> Clear photo of your face</li>
                                            <li><strong>Additional Documents:</strong> Any supporting documents (optional)</li>
                                        </ol>
                                        <div class="alert alert-warning">
                                            <i class="fas fa-exclamation-triangle me-2"></i>
                                            Maximum file size: 10MB per file. Supported formats: JPG, PNG, PDF
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step3">
                                        Step 3: Processing Options
                                    </button>
                                </h2>
                                <div id="step3" class="accordion-collapse collapse">
                                    <div class="accordion-body">
                                        <p>Configure your verification preferences:</p>
                                        <ul>
                                            <li><strong>Risk Tolerance:</strong>
                                                <ul>
                                                    <li><em>Low:</em> Strict verification (slower, more thorough)</li>
                                                    <li><em>Medium:</em> Balanced approach (recommended)</li>
                                                    <li><em>High:</em> Expedited processing (faster, less strict)</li>
                                                </ul>
                                            </li>
                                            <li><strong>Verification Checks:</strong> Enable all checks for comprehensive verification</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#step4">
                                        Step 4: Submit and Wait
                                    </button>
                                </h2>
                                <div id="step4" class="accordion-collapse collapse">
                                    <div class="accordion-body">
                                        <p>After submission:</p>
                                        <ol>
                                            <li>You'll receive a unique Request ID</li>
                                            <li>The system will process your documents through multiple AI agents</li>
                                            <li>Processing typically takes 2-5 minutes</li>
                                            <li>You'll be redirected to the results page automatically</li>
                                        </ol>
                                        <div class="alert alert-success">
                                            <i class="fas fa-lightbulb me-2"></i>
                                            <strong>Tip:</strong> Keep your Request ID safe - you can use it to check results later.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Understanding Results -->
        <div class="row mb-4" id="understanding-results">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <h4 class="mb-0">
                            <i class="fas fa-chart-bar me-2"></i>
                            5. Understanding Results
                        </h4>
                    </div>
                    <div class="card-body">
                        <h6 class="text-primary">Result Components</h6>
                        
                        <div class="row">
                            <div class="col-md-6">
                                <h6 class="text-success">Executive Summary</h6>
                                <ul>
                                    <li><strong>Recommendation:</strong> APPROVE, CONDITIONAL, ESCALATE, or REJECT</li>
                                    <li><strong>Risk Score:</strong> 0-100 scale (lower is better)</li>
                                    <li><strong>Confidence:</strong> System confidence in the result</li>
                                    <li><strong>Processing Time:</strong> Total verification time</li>
                                </ul>
                                
                                <h6 class="text-info mt-3">Detailed Analysis</h6>
                                <ul>
                                    <li>OCR extraction results</li>
                                    <li>Biometric matching scores</li>
                                    <li>Watchlist screening results</li>
                                    <li>Data integration findings</li>
                                </ul>
                            </div>
                            
                            <div class="col-md-6">
                                <h6 class="text-warning">Quality Assurance</h6>
                                <ul>
                                    <li><strong>QA Status:</strong> Passed, Failed, Warning, or Manual Review</li>
                                    <li><strong>QA Score:</strong> Quality assessment score</li>
                                    <li><strong>Exceptions:</strong> Any issues found during processing</li>
                                </ul>
                                
                                <h6 class="text-danger mt-3">Actionable Insights</h6>
                                <ul>
                                    <li>Follow-up actions required</li>
                                    <li>Monitoring requirements</li>
                                    <li>Process improvement suggestions</li>
                                </ul>
                            </div>
                        </div>

                        <div class="alert alert-primary mt-3">
                            <h6 class="alert-heading">
                                <i class="fas fa-info-circle me-2"></i>
                                Recommendation Meanings
                            </h6>
                            <ul class="mb-0">
                                <li><strong>APPROVE:</strong> Customer passes all checks, proceed with onboarding</li>
                                <li><strong>CONDITIONAL:</strong> Minor issues found, additional verification may be needed</li>
                                <li><strong>ESCALATE:</strong> Requires human review before decision</li>
                                <li><strong>REJECT:</strong> Significant issues found, do not proceed</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Feedback System -->
        <div class="row mb-4" id="feedback-system">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-success text-white">
                        <h4 class="mb-0">
                            <i class="fas fa-comment me-2"></i>
                            6. Feedback System
                        </h4>
                    </div>
                    <div class="card-body">
                        <p class="lead">Help improve the system by providing feedback on verification results.</p>
                        
                        <h6 class="text-primary">Feedback Types</h6>
                        <div class="row">
                            <div class="col-md-6">
                                <ul>
                                    <li><strong>Correction:</strong> Report incorrect results</li>
                                    <li><strong>Confirmation:</strong> Confirm accurate results</li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul>
                                    <li><strong>Improvement:</strong> Suggest system enhancements</li>
                                    <li><strong>Issue:</strong> Report technical problems</li>
                                </ul>
                            </div>
                        </div>

                        <h6 class="text-primary mt-4">How to Provide Feedback</h6>
                        <ol>
                            <li>Navigate to the results page for your request</li>
                            <li>Scroll to the "Provide Feedback" section</li>
                            <li>Enter your reviewer ID and select feedback type</li>
                            <li>Provide detailed feedback in the text area</li>
                            <li>Include corrections in JSON format if applicable</li>
                            <li>Submit your feedback</li>
                        </ol>

                        <div class="alert alert-info">
                            <i class="fas fa-lightbulb me-2"></i>
                            <strong>Continuous Learning:</strong> Your feedback helps train our AI models and improve accuracy for future verifications.
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Troubleshooting -->
        <div class="row mb-4" id="troubleshooting">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-warning text-dark">
                        <h4 class="mb-0">
                            <i class="fas fa-tools me-2"></i>
                            7. Troubleshooting
                        </h4>
                    </div>
                    <div class="card-body">
                        <h6 class="text-primary">Common Issues and Solutions</h6>
                        
                        <div class="accordion" id="troubleshootingAccordion">
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#issue1">
                                        File Upload Fails
                                    </button>
                                </h2>
                                <div id="issue1" class="accordion-collapse collapse show">
                                    <div class="accordion-body">
                                        <strong>Possible Causes:</strong>
                                        <ul>
                                            <li>File size exceeds 10MB limit</li>
                                            <li>Unsupported file format</li>
                                            <li>Network connectivity issues</li>
                                        </ul>
                                        <strong>Solutions:</strong>
                                        <ul>
                                            <li>Compress images or use lower resolution</li>
                                            <li>Convert to JPG, PNG, or PDF format</li>
                                            <li>Check internet connection and retry</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue2">
                                        Processing Takes Too Long
                                    </button>
                                </h2>
                                <div id="issue2" class="accordion-collapse collapse">
                                    <div class="accordion-body">
                                        <strong>Normal Processing Time:</strong> 2-5 minutes
                                        <br><br>
                                        <strong>If processing exceeds 10 minutes:</strong>
                                        <ul>
                                            <li>Check system health status</li>
                                            <li>Refresh the results page</li>
                                            <li>Contact support with your Request ID</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="accordion-item">
                                <h2 class="accordion-header">
                                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#issue3">
                                        Poor OCR Results
                                    </button>
                                </h2>
                                <div id="issue3" class="accordion-collapse collapse">
                                    <div class="accordion-body">
                                        <strong>Causes:</strong>
                                        <ul>
                                            <li>Low image quality</li>
                                            <li>Poor lighting or shadows</li>
                                            <li>Damaged or worn documents</li>
                                        </ul>
                                        <strong>Solutions:</strong>
                                        <ul>
                                            <li>Retake photos with better lighting</li>
                                            <li>Ensure document is flat and fully visible</li>
                                            <li>Use higher resolution camera</li>
                                            <li>Provide feedback to help improve the system</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="alert alert-info mt-4">
                            <h6 class="alert-heading">
                                <i class="fas fa-life-ring me-2"></i>
                                Need More Help?
                            </h6>
                            <p class="mb-0">
                                If you continue to experience issues, please contact our support team with:
                            </p>
                            <ul class="mt-2 mb-0">
                                <li>Your Request ID</li>
                                <li>Description of the problem</li>
                                <li>Screenshots if applicable</li>
                                <li>Browser and device information</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Compliance & Security -->
        <div class="row mb-4" id="compliance">
            <div class="col-12">
                <div class="card">
                    <div class="card-header bg-danger text-white">
                        <h4 class="mb-0">
                            <i class="fas fa-shield-alt me-2"></i>
                            8. Compliance & Security
                        </h4>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <h6 class="text-primary">Data Protection</h6>
                                <ul>
                                    <li><strong>Encryption:</strong> All data encrypted in transit and at rest</li>
                                    <li><strong>GDPR Compliance:</strong> Full compliance with data protection regulations</li>
                                    <li><strong>Data Retention:</strong> Documents stored securely with configurable retention periods</li>
                                    <li><strong>Access Control:</strong> Strict access controls and audit logging</li>
                                </ul>

                                <h6 class="text-success mt-4">Compliance Standards</h6>
                                <ul>
                                    <li>PCI-DSS Level 1 certified</li>
                                    <li>SOC 2 Type II compliant</li>
                                    <li>ISO 27001 certified</li>
                                    <li>GDPR and CCPA compliant</li>
                                </ul>
                            </div>
                            
                            <div class="col-md-6">
                                <h6 class="text-info">Audit Trail</h6>
                                <p>Every verification includes a complete audit trail:</p>
                                <ul>
                                    <li>Processing timestamps</li>
                                    <li>Agent versions used</li>
                                    <li>Data sources accessed</li>
                                    <li>Rules and policies applied</li>
                                    <li>Human review actions</li>
                                </ul>

                                <h6 class="text-warning mt-4">Your Rights</h6>
                                <ul>
                                    <li>Right to access your data</li>
                                    <li>Right to rectification</li>
                                    <li>Right to erasure</li>
                                    <li>Right to data portability</li>
                                    <li>Right to object to processing</li>
                                </ul>
                            </div>
                        </div>

                        <div class="alert alert-success mt-4">
                            <h6 class="alert-heading">
                                <i class="fas fa-certificate me-2"></i>
                                Security Commitment
                            </h6>
                            <p class="mb-0">
                                We are committed to maintaining the highest standards of security and compliance. 
                                Our platform undergoes regular security audits and penetration testing to ensure 
                                your data remains protected at all times.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-light py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h6 class="text-primary">KYC Automation Platform</h6>
                    <p class="text-muted small mb-0">
                        Secure, compliant, and efficient customer verification
                    </p>
                </div>
                <div class="col-md-6 text-md-end">
                    <small class="text-muted">
                        <i class="fas fa-shield-alt me-1"></i>
                        GDPR & PCI-DSS Compliant
                    </small>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/static/app.js"></script>
</body>
</html>
